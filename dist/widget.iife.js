var FeedbackWidget=function(){"use strict";function vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ku(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var nn={exports:{}},At={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr;function xu(){if(wr)return At;wr=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var a in r)a!=="key"&&(i[a]=r[a])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:o,ref:r!==void 0?r:null,props:i}}return At.Fragment=e,At.jsx=n,At.jsxs=n,At}var Pt={},sn={exports:{}},I={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br;function Au(){if(br)return I;br=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function p(f){return f===null||typeof f!="object"?null:(f=d&&f[d]||f["@@iterator"],typeof f=="function"?f:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function b(f,v,A){this.props=f,this.context=v,this.refs=w,this.updater=A||m}b.prototype.isReactComponent={},b.prototype.setState=function(f,v){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,v,"setState")},b.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function T(){}T.prototype=b.prototype;function P(f,v,A){this.props=f,this.context=v,this.refs=w,this.updater=A||m}var S=P.prototype=new T;S.constructor=P,y(S,b.prototype),S.isPureReactComponent=!0;var C=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function K(f,v,A,R,L,z){return A=z.ref,{$$typeof:t,type:f,key:v,ref:A!==void 0?A:null,props:z}}function j(f,v){return K(f.type,v,void 0,void 0,void 0,f.props)}function J(f){return typeof f=="object"&&f!==null&&f.$$typeof===t}function se(f){var v={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(A){return v[A]})}var G=/\/+/g;function xe(f,v){return typeof f=="object"&&f!==null&&f.key!=null?se(""+f.key):v.toString(36)}function Ae(){}function pe(f){switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:switch(typeof f.status=="string"?f.then(Ae,Ae):(f.status="pending",f.then(function(v){f.status==="pending"&&(f.status="fulfilled",f.value=v)},function(v){f.status==="pending"&&(f.status="rejected",f.reason=v)})),f.status){case"fulfilled":return f.value;case"rejected":throw f.reason}}throw f}function he(f,v,A,R,L){var z=typeof f;(z==="undefined"||z==="boolean")&&(f=null);var $=!1;if(f===null)$=!0;else switch(z){case"bigint":case"string":case"number":$=!0;break;case"object":switch(f.$$typeof){case t:case e:$=!0;break;case c:return $=f._init,he($(f._payload),v,A,R,L)}}if($)return L=L(f),$=R===""?"."+xe(f,0):R,C(L)?(A="",$!=null&&(A=$.replace(G,"$&/")+"/"),he(L,v,A,"",function(ye){return ye})):L!=null&&(J(L)&&(L=j(L,A+(L.key==null||f&&f.key===L.key?"":(""+L.key).replace(G,"$&/")+"/")+$)),v.push(L)),1;$=0;var me=R===""?".":R+":";if(C(f))for(var U=0;U<f.length;U++)R=f[U],z=me+xe(R,U),$+=he(R,v,A,z,L);else if(U=p(f),typeof U=="function")for(f=U.call(f),U=0;!(R=f.next()).done;)R=R.value,z=me+xe(R,U++),$+=he(R,v,A,z,L);else if(z==="object"){if(typeof f.then=="function")return he(pe(f),v,A,R,L);throw v=String(f),Error("Objects are not valid as a React child (found: "+(v==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":v)+"). If you meant to render a collection of children, use an array instead.")}return $}function _e(f,v,A){if(f==null)return f;var R=[],L=0;return he(f,R,"","",function(z){return v.call(A,z,L++)}),R}function Q(f){if(f._status===-1){var v=f._result;v=v(),v.then(function(A){(f._status===0||f._status===-1)&&(f._status=1,f._result=A)},function(A){(f._status===0||f._status===-1)&&(f._status=2,f._result=A)}),f._status===-1&&(f._status=0,f._result=v)}if(f._status===1)return f._result.default;throw f._result}var re=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function Pe(){}return I.Children={map:_e,forEach:function(f,v,A){_e(f,function(){v.apply(this,arguments)},A)},count:function(f){var v=0;return _e(f,function(){v++}),v},toArray:function(f){return _e(f,function(v){return v})||[]},only:function(f){if(!J(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},I.Component=b,I.Fragment=n,I.Profiler=r,I.PureComponent=P,I.StrictMode=s,I.Suspense=u,I.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,I.__COMPILER_RUNTIME={__proto__:null,c:function(f){return _.H.useMemoCache(f)}},I.cache=function(f){return function(){return f.apply(null,arguments)}},I.cloneElement=function(f,v,A){if(f==null)throw Error("The argument must be a React element, but you passed "+f+".");var R=y({},f.props),L=f.key,z=void 0;if(v!=null)for($ in v.ref!==void 0&&(z=void 0),v.key!==void 0&&(L=""+v.key),v)!D.call(v,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&v.ref===void 0||(R[$]=v[$]);var $=arguments.length-2;if($===1)R.children=A;else if(1<$){for(var me=Array($),U=0;U<$;U++)me[U]=arguments[U+2];R.children=me}return K(f.type,L,void 0,void 0,z,R)},I.createContext=function(f){return f={$$typeof:o,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null},f.Provider=f,f.Consumer={$$typeof:i,_context:f},f},I.createElement=function(f,v,A){var R,L={},z=null;if(v!=null)for(R in v.key!==void 0&&(z=""+v.key),v)D.call(v,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(L[R]=v[R]);var $=arguments.length-2;if($===1)L.children=A;else if(1<$){for(var me=Array($),U=0;U<$;U++)me[U]=arguments[U+2];L.children=me}if(f&&f.defaultProps)for(R in $=f.defaultProps,$)L[R]===void 0&&(L[R]=$[R]);return K(f,z,void 0,void 0,null,L)},I.createRef=function(){return{current:null}},I.forwardRef=function(f){return{$$typeof:a,render:f}},I.isValidElement=J,I.lazy=function(f){return{$$typeof:c,_payload:{_status:-1,_result:f},_init:Q}},I.memo=function(f,v){return{$$typeof:l,type:f,compare:v===void 0?null:v}},I.startTransition=function(f){var v=_.T,A={};_.T=A;try{var R=f(),L=_.S;L!==null&&L(A,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(Pe,re)}catch(z){re(z)}finally{_.T=v}},I.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},I.use=function(f){return _.H.use(f)},I.useActionState=function(f,v,A){return _.H.useActionState(f,v,A)},I.useCallback=function(f,v){return _.H.useCallback(f,v)},I.useContext=function(f){return _.H.useContext(f)},I.useDebugValue=function(){},I.useDeferredValue=function(f,v){return _.H.useDeferredValue(f,v)},I.useEffect=function(f,v,A){var R=_.H;if(typeof A=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(f,v)},I.useId=function(){return _.H.useId()},I.useImperativeHandle=function(f,v,A){return _.H.useImperativeHandle(f,v,A)},I.useInsertionEffect=function(f,v){return _.H.useInsertionEffect(f,v)},I.useLayoutEffect=function(f,v){return _.H.useLayoutEffect(f,v)},I.useMemo=function(f,v){return _.H.useMemo(f,v)},I.useOptimistic=function(f,v){return _.H.useOptimistic(f,v)},I.useReducer=function(f,v,A){return _.H.useReducer(f,v,A)},I.useRef=function(f){return _.H.useRef(f)},I.useState=function(f){return _.H.useState(f)},I.useSyncExternalStore=function(f,v,A){return _.H.useSyncExternalStore(f,v,A)},I.useTransition=function(){return _.H.useTransition()},I.version="19.1.0",I}var Rt={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Rt.exports;var _r;function Pu(){return _r||(_r=1,function(t,e){process.env.NODE_ENV!=="production"&&function(){function n(h,g){Object.defineProperty(i.prototype,h,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",g[0],g[1])}})}function s(h){return h===null||typeof h!="object"?null:(h=On&&h[On]||h["@@iterator"],typeof h=="function"?h:null)}function r(h,g){h=(h=h.constructor)&&(h.displayName||h.name)||"ReactClass";var E=h+"."+g;du[E]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",g,h),du[E]=!0)}function i(h,g,E){this.props=h,this.context=g,this.refs=gr,this.updater=E||fu}function o(){}function a(h,g,E){this.props=h,this.context=g,this.refs=gr,this.updater=E||fu}function u(h){return""+h}function l(h){try{u(h);var g=!1}catch{g=!0}if(g){g=console;var E=g.error,k=typeof Symbol=="function"&&Symbol.toStringTag&&h[Symbol.toStringTag]||h.constructor.name||"Object";return E.call(g,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",k),u(h)}}function c(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Am?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case f:return"Fragment";case A:return"Profiler";case v:return"StrictMode";case $:return"Suspense";case me:return"SuspenseList";case tn:return"Activity"}if(typeof h=="object")switch(typeof h.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),h.$$typeof){case Pe:return"Portal";case L:return(h.displayName||"Context")+".Provider";case R:return(h._context.displayName||"Context")+".Consumer";case z:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case U:return g=h.displayName||null,g!==null?g:c(h.type)||"Memo";case ye:g=h._payload,h=h._init;try{return c(h(g))}catch{}}return null}function d(h){if(h===f)return"<>";if(typeof h=="object"&&h!==null&&h.$$typeof===ye)return"<...>";try{var g=c(h);return g?"<"+g+">":"<...>"}catch{return"<...>"}}function p(){var h=W.A;return h===null?null:h.getOwner()}function m(){return Error("react-stack-top-frame")}function y(h){if(Dn.call(h,"key")){var g=Object.getOwnPropertyDescriptor(h,"key").get;if(g&&g.isReactWarning)return!1}return h.key!==void 0}function w(h,g){function E(){yu||(yu=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",g))}E.isReactWarning=!0,Object.defineProperty(h,"key",{get:E,configurable:!0})}function b(){var h=c(this.type);return wu[h]||(wu[h]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),h=this.props.ref,h!==void 0?h:null}function T(h,g,E,k,O,H,B,Y){return E=H.ref,h={$$typeof:re,type:h,key:g,props:H,_owner:O},(E!==void 0?E:null)!==null?Object.defineProperty(h,"ref",{enumerable:!1,get:b}):Object.defineProperty(h,"ref",{enumerable:!1,value:null}),h._store={},Object.defineProperty(h._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(h,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(h,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:B}),Object.defineProperty(h,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Y}),Object.freeze&&(Object.freeze(h.props),Object.freeze(h)),h}function P(h,g){return g=T(h.type,g,void 0,void 0,h._owner,h.props,h._debugStack,h._debugTask),h._store&&(g._store.validated=h._store.validated),g}function S(h){return typeof h=="object"&&h!==null&&h.$$typeof===re}function C(h){var g={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(E){return g[E]})}function _(h,g){return typeof h=="object"&&h!==null&&h.key!=null?(l(h.key),C(""+h.key)):g.toString(36)}function D(){}function K(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(D,D):(h.status="pending",h.then(function(g){h.status==="pending"&&(h.status="fulfilled",h.value=g)},function(g){h.status==="pending"&&(h.status="rejected",h.reason=g)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function j(h,g,E,k,O){var H=typeof h;(H==="undefined"||H==="boolean")&&(h=null);var B=!1;if(h===null)B=!0;else switch(H){case"bigint":case"string":case"number":B=!0;break;case"object":switch(h.$$typeof){case re:case Pe:B=!0;break;case ye:return B=h._init,j(B(h._payload),g,E,k,O)}}if(B){B=h,O=O(B);var Y=k===""?"."+_(B,0):k;return mu(O)?(E="",Y!=null&&(E=Y.replace(_u,"$&/")+"/"),j(O,g,E,"",function(He){return He})):O!=null&&(S(O)&&(O.key!=null&&(B&&B.key===O.key||l(O.key)),E=P(O,E+(O.key==null||B&&B.key===O.key?"":(""+O.key).replace(_u,"$&/")+"/")+Y),k!==""&&B!=null&&S(B)&&B.key==null&&B._store&&!B._store.validated&&(E._store.validated=2),O=E),g.push(O)),1}if(B=0,Y=k===""?".":k+":",mu(h))for(var F=0;F<h.length;F++)k=h[F],H=Y+_(k,F),B+=j(k,g,E,H,O);else if(F=s(h),typeof F=="function")for(F===h.entries&&(bu||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),bu=!0),h=F.call(h),F=0;!(k=h.next()).done;)k=k.value,H=Y+_(k,F++),B+=j(k,g,E,H,O);else if(H==="object"){if(typeof h.then=="function")return j(K(h),g,E,k,O);throw g=String(h),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.")}return B}function J(h,g,E){if(h==null)return h;var k=[],O=0;return j(h,k,"","",function(H){return g.call(E,H,O++)}),k}function se(h){if(h._status===-1){var g=h._result;g=g(),g.then(function(E){(h._status===0||h._status===-1)&&(h._status=1,h._result=E)},function(E){(h._status===0||h._status===-1)&&(h._status=2,h._result=E)}),h._status===-1&&(h._status=0,h._result=g)}if(h._status===1)return g=h._result,g===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,g),"default"in g||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,g),g.default;throw h._result}function G(){var h=W.H;return h===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),h}function xe(){}function Ae(h){if(Mn===null)try{var g=("require"+Math.random()).slice(0,7);Mn=(t&&t[g]).call(t,"timers").setImmediate}catch{Mn=function(k){Su===!1&&(Su=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var O=new MessageChannel;O.port1.onmessage=k,O.port2.postMessage(void 0)}}return Mn(h)}function pe(h){return 1<h.length&&typeof AggregateError=="function"?new AggregateError(h):h[0]}function he(h,g){g!==Ln-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Ln=g}function _e(h,g,E){var k=W.actQueue;if(k!==null)if(k.length!==0)try{Q(k),Ae(function(){return _e(h,g,E)});return}catch(O){W.thrownErrors.push(O)}else W.actQueue=null;0<W.thrownErrors.length?(k=pe(W.thrownErrors),W.thrownErrors.length=0,E(k)):g(h)}function Q(h){if(!yr){yr=!0;var g=0;try{for(;g<h.length;g++){var E=h[g];do{W.didUsePromise=!1;var k=E(!1);if(k!==null){if(W.didUsePromise){h[g]=E,h.splice(0,g);return}E=k}else break}while(!0)}h.length=0}catch(O){h.splice(0,g+1),W.thrownErrors.push(O)}finally{yr=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var re=Symbol.for("react.transitional.element"),Pe=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),tn=Symbol.for("react.activity"),On=Symbol.iterator,du={},fu={isMounted:function(){return!1},enqueueForceUpdate:function(h){r(h,"forceUpdate")},enqueueReplaceState:function(h){r(h,"replaceState")},enqueueSetState:function(h){r(h,"setState")}},pu=Object.assign,gr={};Object.freeze(gr),i.prototype.isReactComponent={},i.prototype.setState=function(h,g){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,g,"setState")},i.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};var Te={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},jn;for(jn in Te)Te.hasOwnProperty(jn)&&n(jn,Te[jn]);o.prototype=i.prototype,Te=a.prototype=new o,Te.constructor=a,pu(Te,i.prototype),Te.isPureReactComponent=!0;var mu=Array.isArray,Am=Symbol.for("react.client.reference"),W={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},Dn=Object.prototype.hasOwnProperty,gu=console.createTask?console.createTask:function(){return null};Te={"react-stack-bottom-frame":function(h){return h()}};var yu,vu,wu={},Pm=Te["react-stack-bottom-frame"].bind(Te,m)(),Rm=gu(d(m)),bu=!1,_u=/\/+/g,Tu=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Su=!1,Mn=null,Ln=0,$n=!1,yr=!1,Eu=typeof queueMicrotask=="function"?function(h){queueMicrotask(function(){return queueMicrotask(h)})}:Ae;Te=Object.freeze({__proto__:null,c:function(h){return G().useMemoCache(h)}}),e.Children={map:J,forEach:function(h,g,E){J(h,function(){g.apply(this,arguments)},E)},count:function(h){var g=0;return J(h,function(){g++}),g},toArray:function(h){return J(h,function(g){return g})||[]},only:function(h){if(!S(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},e.Component=i,e.Fragment=f,e.Profiler=A,e.PureComponent=a,e.StrictMode=v,e.Suspense=$,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,e.__COMPILER_RUNTIME=Te,e.act=function(h){var g=W.actQueue,E=Ln;Ln++;var k=W.actQueue=g!==null?g:[],O=!1;try{var H=h()}catch(F){W.thrownErrors.push(F)}if(0<W.thrownErrors.length)throw he(g,E),h=pe(W.thrownErrors),W.thrownErrors.length=0,h;if(H!==null&&typeof H=="object"&&typeof H.then=="function"){var B=H;return Eu(function(){O||$n||($n=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(F,He){O=!0,B.then(function(xt){if(he(g,E),E===0){try{Q(k),Ae(function(){return _e(xt,F,He)})}catch(Om){W.thrownErrors.push(Om)}if(0<W.thrownErrors.length){var Cm=pe(W.thrownErrors);W.thrownErrors.length=0,He(Cm)}}else F(xt)},function(xt){he(g,E),0<W.thrownErrors.length&&(xt=pe(W.thrownErrors),W.thrownErrors.length=0),He(xt)})}}}var Y=H;if(he(g,E),E===0&&(Q(k),k.length!==0&&Eu(function(){O||$n||($n=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),W.actQueue=null),0<W.thrownErrors.length)throw h=pe(W.thrownErrors),W.thrownErrors.length=0,h;return{then:function(F,He){O=!0,E===0?(W.actQueue=k,Ae(function(){return _e(Y,F,He)})):F(Y)}}},e.cache=function(h){return function(){return h.apply(null,arguments)}},e.captureOwnerStack=function(){var h=W.getCurrentStack;return h===null?null:h()},e.cloneElement=function(h,g,E){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var k=pu({},h.props),O=h.key,H=h._owner;if(g!=null){var B;e:{if(Dn.call(g,"ref")&&(B=Object.getOwnPropertyDescriptor(g,"ref").get)&&B.isReactWarning){B=!1;break e}B=g.ref!==void 0}B&&(H=p()),y(g)&&(l(g.key),O=""+g.key);for(Y in g)!Dn.call(g,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&g.ref===void 0||(k[Y]=g[Y])}var Y=arguments.length-2;if(Y===1)k.children=E;else if(1<Y){B=Array(Y);for(var F=0;F<Y;F++)B[F]=arguments[F+2];k.children=B}for(k=T(h.type,O,void 0,void 0,H,k,h._debugStack,h._debugTask),O=2;O<arguments.length;O++)H=arguments[O],S(H)&&H._store&&(H._store.validated=1);return k},e.createContext=function(h){return h={$$typeof:L,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:R,_context:h},h._currentRenderer=null,h._currentRenderer2=null,h},e.createElement=function(h,g,E){for(var k=2;k<arguments.length;k++){var O=arguments[k];S(O)&&O._store&&(O._store.validated=1)}if(k={},O=null,g!=null)for(F in vu||!("__self"in g)||"key"in g||(vu=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),y(g)&&(l(g.key),O=""+g.key),g)Dn.call(g,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(k[F]=g[F]);var H=arguments.length-2;if(H===1)k.children=E;else if(1<H){for(var B=Array(H),Y=0;Y<H;Y++)B[Y]=arguments[Y+2];Object.freeze&&Object.freeze(B),k.children=B}if(h&&h.defaultProps)for(F in H=h.defaultProps,H)k[F]===void 0&&(k[F]=H[F]);O&&w(k,typeof h=="function"?h.displayName||h.name||"Unknown":h);var F=1e4>W.recentlyCreatedOwnerStacks++;return T(h,O,void 0,void 0,p(),k,F?Error("react-stack-top-frame"):Pm,F?gu(d(h)):Rm)},e.createRef=function(){var h={current:null};return Object.seal(h),h},e.forwardRef=function(h){h!=null&&h.$$typeof===U?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof h!="function"?console.error("forwardRef requires a render function but was given %s.",h===null?"null":typeof h):h.length!==0&&h.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",h.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),h!=null&&h.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var g={$$typeof:z,render:h},E;return Object.defineProperty(g,"displayName",{enumerable:!1,configurable:!0,get:function(){return E},set:function(k){E=k,h.name||h.displayName||(Object.defineProperty(h,"name",{value:k}),h.displayName=k)}}),g},e.isValidElement=S,e.lazy=function(h){return{$$typeof:ye,_payload:{_status:-1,_result:h},_init:se}},e.memo=function(h,g){h==null&&console.error("memo: The first argument must be a component. Instead received: %s",h===null?"null":typeof h),g={$$typeof:U,type:h,compare:g===void 0?null:g};var E;return Object.defineProperty(g,"displayName",{enumerable:!1,configurable:!0,get:function(){return E},set:function(k){E=k,h.name||h.displayName||(Object.defineProperty(h,"name",{value:k}),h.displayName=k)}}),g},e.startTransition=function(h){var g=W.T,E={};W.T=E,E._updatedFibers=new Set;try{var k=h(),O=W.S;O!==null&&O(E,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(xe,Tu)}catch(H){Tu(H)}finally{g===null&&E._updatedFibers&&(h=E._updatedFibers.size,E._updatedFibers.clear(),10<h&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),W.T=g}},e.unstable_useCacheRefresh=function(){return G().useCacheRefresh()},e.use=function(h){return G().use(h)},e.useActionState=function(h,g,E){return G().useActionState(h,g,E)},e.useCallback=function(h,g){return G().useCallback(h,g)},e.useContext=function(h){var g=G();return h.$$typeof===R&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),g.useContext(h)},e.useDebugValue=function(h,g){return G().useDebugValue(h,g)},e.useDeferredValue=function(h,g){return G().useDeferredValue(h,g)},e.useEffect=function(h,g,E){h==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var k=G();if(typeof E=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(h,g)},e.useId=function(){return G().useId()},e.useImperativeHandle=function(h,g,E){return G().useImperativeHandle(h,g,E)},e.useInsertionEffect=function(h,g){return h==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),G().useInsertionEffect(h,g)},e.useLayoutEffect=function(h,g){return h==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),G().useLayoutEffect(h,g)},e.useMemo=function(h,g){return G().useMemo(h,g)},e.useOptimistic=function(h,g){return G().useOptimistic(h,g)},e.useReducer=function(h,g,E){return G().useReducer(h,g,E)},e.useRef=function(h){return G().useRef(h)},e.useState=function(h){return G().useState(h)},e.useSyncExternalStore=function(h,g,E){return G().useSyncExternalStore(h,g,E)},e.useTransition=function(){return G().useTransition()},e.version="19.1.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(Rt,Rt.exports)),Rt.exports}var Tr;function Sr(){return Tr||(Tr=1,process.env.NODE_ENV==="production"?sn.exports=Au():sn.exports=Pu()),sn.exports}/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er;function Ru(){return Er||(Er=1,process.env.NODE_ENV!=="production"&&function(){function t(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===se?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case w:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case J:return"Activity"}if(typeof f=="object")switch(typeof f.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),f.$$typeof){case y:return"Portal";case S:return(f.displayName||"Context")+".Provider";case P:return(f._context.displayName||"Context")+".Consumer";case C:var v=f.render;return f=f.displayName,f||(f=v.displayName||v.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case K:return v=f.displayName||null,v!==null?v:t(f.type)||"Memo";case j:v=f._payload,f=f._init;try{return t(f(v))}catch{}}return null}function e(f){return""+f}function n(f){try{e(f);var v=!1}catch{v=!0}if(v){v=console;var A=v.error,R=typeof Symbol=="function"&&Symbol.toStringTag&&f[Symbol.toStringTag]||f.constructor.name||"Object";return A.call(v,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",R),e(f)}}function s(f){if(f===w)return"<>";if(typeof f=="object"&&f!==null&&f.$$typeof===j)return"<...>";try{var v=t(f);return v?"<"+v+">":"<...>"}catch{return"<...>"}}function r(){var f=G.A;return f===null?null:f.getOwner()}function i(){return Error("react-stack-top-frame")}function o(f){if(xe.call(f,"key")){var v=Object.getOwnPropertyDescriptor(f,"key").get;if(v&&v.isReactWarning)return!1}return f.key!==void 0}function a(f,v){function A(){he||(he=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",v))}A.isReactWarning=!0,Object.defineProperty(f,"key",{get:A,configurable:!0})}function u(){var f=t(this.type);return _e[f]||(_e[f]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),f=this.props.ref,f!==void 0?f:null}function l(f,v,A,R,L,z,$,me){return A=z.ref,f={$$typeof:m,type:f,key:v,props:z,_owner:L},(A!==void 0?A:null)!==null?Object.defineProperty(f,"ref",{enumerable:!1,get:u}):Object.defineProperty(f,"ref",{enumerable:!1,value:null}),f._store={},Object.defineProperty(f._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(f,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(f,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:$}),Object.defineProperty(f,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:me}),Object.freeze&&(Object.freeze(f.props),Object.freeze(f)),f}function c(f,v,A,R,L,z,$,me){var U=v.children;if(U!==void 0)if(R)if(Ae(U)){for(R=0;R<U.length;R++)d(U[R]);Object.freeze&&Object.freeze(U)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else d(U);if(xe.call(v,"key")){U=t(f);var ye=Object.keys(v).filter(function(On){return On!=="key"});R=0<ye.length?"{key: someKey, "+ye.join(": ..., ")+": ...}":"{key: someKey}",Pe[U+R]||(ye=0<ye.length?"{"+ye.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,R,U,ye,U),Pe[U+R]=!0)}if(U=null,A!==void 0&&(n(A),U=""+A),o(v)&&(n(v.key),U=""+v.key),"key"in v){A={};for(var tn in v)tn!=="key"&&(A[tn]=v[tn])}else A=v;return U&&a(A,typeof f=="function"?f.displayName||f.name||"Unknown":f),l(f,U,z,L,r(),A,$,me)}function d(f){typeof f=="object"&&f!==null&&f.$$typeof===m&&f._store&&(f._store.validated=1)}var p=Sr(),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.client.reference"),G=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=Object.prototype.hasOwnProperty,Ae=Array.isArray,pe=console.createTask?console.createTask:function(){return null};p={"react-stack-bottom-frame":function(f){return f()}};var he,_e={},Q=p["react-stack-bottom-frame"].bind(p,i)(),re=pe(s(i)),Pe={};Pt.Fragment=w,Pt.jsx=function(f,v,A,R,L){var z=1e4>G.recentlyCreatedOwnerStacks++;return c(f,v,A,!1,R,L,z?Error("react-stack-top-frame"):Q,z?pe(s(f)):re)},Pt.jsxs=function(f,v,A,R,L){var z=1e4>G.recentlyCreatedOwnerStacks++;return c(f,v,A,!0,R,L,z?Error("react-stack-top-frame"):Q,z?pe(s(f)):re)}}()),Pt}var kr;function Cu(){return kr||(kr=1,process.env.NODE_ENV==="production"?nn.exports=xu():nn.exports=Ru()),nn.exports}var N=Cu(),x=Sr();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ju=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),xr=t=>{const e=ju(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ar=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Du=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},u)=>x.createElement("svg",{ref:u,...Mu,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Ar("lucide",r),...!i&&!Du(a)&&{"aria-hidden":"true"},...a},[...o.map(([l,c])=>x.createElement(l,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(t,e)=>{const n=x.forwardRef(({className:s,...r},i)=>x.createElement(Lu,{ref:i,iconNode:e,className:Ar(`lucide-${Ou(xr(t))}`,`lucide-${t}`,s),...r}));return n.displayName=xr(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=rn("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=rn("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=rn("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=rn("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),In=x.createContext({});function Vn(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nn=typeof window<"u",Pr=Nn?x.useLayoutEffect:x.useEffect,on=x.createContext(null);function Un(t,e){t.indexOf(e)===-1&&t.push(e)}function Bn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const je=(t,e,n)=>n>e?e:n<t?t:n;let nt=()=>{},De=()=>{};process.env.NODE_ENV!=="production"&&(nt=(t,e)=>{!t&&typeof console<"u"&&console.warn(e)},De=(t,e)=>{if(!t)throw new Error(e)});const Me={},Rr=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Cr(t){return typeof t=="object"&&t!==null}const Or=t=>/^0[^.\s]+$/u.test(t);function Fn(t){let e;return()=>(e===void 0&&(e=t()),e)}const ve=t=>t,Uu=(t,e)=>n=>e(t(n)),Ct=(...t)=>t.reduce(Uu),Ot=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class qn{constructor(){this.subscriptions=[]}add(e){return Un(this.subscriptions,e),()=>Bn(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Se=t=>t*1e3,Re=t=>t/1e3;function jr(t,e){return e?t*(1e3/e):0}const Dr=new Set;function Wn(t,e,n){t||Dr.has(e)||(console.warn(e),Dr.add(e))}const Mr=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Bu=1e-7,Fu=12;function qu(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=Mr(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>Bu&&++a<Fu);return o}function jt(t,e,n,s){if(t===e&&n===s)return ve;const r=i=>qu(i,0,1,t,n);return i=>i===0||i===1?i:Mr(r(i),e,s)}const Lr=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$r=t=>e=>1-t(1-e),Ir=jt(.33,1.53,.69,.99),Hn=$r(Ir),Vr=Lr(Hn),Nr=t=>(t*=2)<1?.5*Hn(t):.5*(2-Math.pow(2,-10*(t-1))),zn=t=>1-Math.sin(Math.acos(t)),Ur=$r(zn),Br=Lr(zn),Wu=jt(.42,0,1,1),Hu=jt(0,0,.58,1),Fr=jt(.42,0,.58,1),zu=t=>Array.isArray(t)&&typeof t[0]!="number",qr=t=>Array.isArray(t)&&typeof t[0]=="number",Wr={linear:ve,easeIn:Wu,easeInOut:Fr,easeOut:Hu,circIn:zn,circInOut:Br,circOut:Ur,backIn:Hn,backInOut:Vr,backOut:Ir,anticipate:Nr},Ku=t=>typeof t=="string",Hr=t=>{if(qr(t)){De(t.length===4,"Cubic bezier arrays must contain four numerical values.");const[e,n,s,r]=t;return jt(e,n,s,r)}else if(Ku(t))return De(Wr[t]!==void 0,`Invalid easing type '${t}'`),Wr[t];return t},an=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zr={value:null};function Gu(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},u=0;function l(d){o.has(d)&&(c.schedule(d),t()),u++,d(a)}const c={schedule:(d,p=!1,m=!1)=>{const w=m&&r?n:s;return p&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(l),e&&zr.value&&zr.value.frameloop[e].push(u),u=0,n.clear(),r=!1,i&&(i=!1,c.process(d))}};return c}const Yu=40;function Kr(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=an.reduce((S,C)=>(S[C]=Gu(i,e?C:void 0),S),{}),{setup:a,read:u,resolveKeyframes:l,preUpdate:c,update:d,preRender:p,render:m,postRender:y}=o,w=()=>{const S=Me.useManualTiming?r.timestamp:performance.now();n=!1,Me.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(S-r.timestamp,Yu),1)),r.timestamp=S,r.isProcessing=!0,a.process(r),u.process(r),l.process(r),c.process(r),d.process(r),p.process(r),m.process(r),y.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(w))},b=()=>{n=!0,s=!0,r.isProcessing||t(w)};return{schedule:an.reduce((S,C)=>{const _=o[C];return S[C]=(D,K=!1,j=!1)=>(n||b(),_.schedule(D,K,j)),S},{}),cancel:S=>{for(let C=0;C<an.length;C++)o[an[C]].cancel(S)},state:r,steps:o}}const{schedule:Z,cancel:$e,state:ae,steps:Kn}=Kr(typeof requestAnimationFrame<"u"?requestAnimationFrame:ve,!0);let un;function Ju(){un=void 0}const de={now:()=>(un===void 0&&de.set(ae.isProcessing||Me.useManualTiming?ae.timestamp:performance.now()),un),set:t=>{un=t,queueMicrotask(Ju)}},Gr=t=>e=>typeof e=="string"&&e.startsWith(t),Gn=Gr("--"),Xu=Gr("var(--"),Yn=t=>Xu(t)?Qu.test(t.split("/*")[0].trim()):!1,Qu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,st={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dt={...st,transform:t=>je(0,1,t)},cn={...st,default:1},Mt=t=>Math.round(t*1e5)/1e5,Jn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zu(t){return t==null}const ec=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xn=(t,e)=>n=>!!(typeof n=="string"&&ec.test(n)&&n.startsWith(t)||e&&!Zu(n)&&Object.prototype.hasOwnProperty.call(n,e)),Yr=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match(Jn);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},tc=t=>je(0,255,t),Qn={...st,transform:t=>Math.round(tc(t))},ze={test:Xn("rgb","red"),parse:Yr("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Qn.transform(t)+", "+Qn.transform(e)+", "+Qn.transform(n)+", "+Mt(Dt.transform(s))+")"};function nc(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Zn={test:Xn("#"),parse:nc,transform:ze.transform},Lt=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ie=Lt("deg"),Ce=Lt("%"),M=Lt("px"),sc=Lt("vh"),rc=Lt("vw"),Jr={...Ce,parse:t=>Ce.parse(t)/100,transform:t=>Ce.transform(t*100)},rt={test:Xn("hsl","hue"),parse:Yr("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ce.transform(Mt(e))+", "+Ce.transform(Mt(n))+", "+Mt(Dt.transform(s))+")"},ue={test:t=>ze.test(t)||Zn.test(t)||rt.test(t),parse:t=>ze.test(t)?ze.parse(t):rt.test(t)?rt.parse(t):Zn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ze.transform(t):rt.transform(t)},ic=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oc(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jn))==null?void 0:e.length)||0)+(((n=t.match(ic))==null?void 0:n.length)||0)>0}const Xr="number",Qr="color",ac="var",uc="var(",Zr="${}",cc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $t(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(cc,u=>(ue.test(u)?(s.color.push(i),r.push(Qr),n.push(ue.parse(u))):u.startsWith(uc)?(s.var.push(i),r.push(ac),n.push(u)):(s.number.push(i),r.push(Xr),n.push(parseFloat(u))),++i,Zr)).split(Zr);return{values:n,split:a,indexes:s,types:r}}function ei(t){return $t(t).values}function ti(t){const{split:e,types:n}=$t(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===Xr?i+=Mt(r[o]):a===Qr?i+=ue.transform(r[o]):i+=r[o]}return i}}const lc=t=>typeof t=="number"?0:t;function hc(t){const e=ei(t);return ti(t)(e.map(lc))}const Ve={test:oc,parse:ei,createTransformer:ti,getAnimatableNone:hc};function es(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?t+(e-t)*6*n:n<.5?e:n<.6666666666666666?t+(e-t)*(.6666666666666666-n)*6:t}function dc({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=es(u,a,t+.3333333333333333),i=es(u,a,t),o=es(u,a,t-.3333333333333333)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function ln(t,e){return n=>n>0?e:t}const ee=(t,e,n)=>t+(e-t)*n,ts=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},fc=[Zn,ze,rt],pc=t=>fc.find(e=>e.test(t));function ni(t){const e=pc(t);if(nt(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let n=e.parse(t);return e===rt&&(n=dc(n)),n}const si=(t,e)=>{const n=ni(t),s=ni(e);if(!n||!s)return ln(t,e);const r={...n};return i=>(r.red=ts(n.red,s.red,i),r.green=ts(n.green,s.green,i),r.blue=ts(n.blue,s.blue,i),r.alpha=ee(n.alpha,s.alpha,i),ze.transform(r))},ns=new Set(["none","hidden"]);function mc(t,e){return ns.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gc(t,e){return n=>ee(t,e,n)}function ss(t){return typeof t=="number"?gc:typeof t=="string"?Yn(t)?ln:ue.test(t)?si:wc:Array.isArray(t)?ri:typeof t=="object"?ue.test(t)?si:yc:ln}function ri(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>ss(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function yc(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=ss(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function vc(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const wc=(t,e)=>{const n=Ve.createTransformer(e),s=$t(t),r=$t(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?ns.has(t)&&!r.values.length||ns.has(e)&&!s.values.length?mc(t,e):Ct(ri(vc(s,r),r.values),n):(nt(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),ln(t,e))};function ii(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ee(t,e,n):ss(t)(t,e)}const bc=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Z.update(e,n),stop:()=>$e(e),now:()=>ae.isProcessing?ae.timestamp:de.now()}},oi=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},hn=2e4;function rs(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<hn;)e+=n,s=t.next(e);return e>=hn?1/0:e}function _c(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(rs(s),hn);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Re(r)}}const Tc=5;function ai(t,e,n){const s=Math.max(e-Tc,0);return jr(n-t(s),e-s)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ui=.001;function Sc({duration:t=te.duration,bounce:e=te.bounce,velocity:n=te.velocity,mass:s=te.mass}){let r,i;nt(t<=Se(te.maxDuration),"Spring duration must be 10 seconds or less");let o=1-e;o=je(te.minDamping,te.maxDamping,o),t=je(te.minDuration,te.maxDuration,Re(t)),o<1?(r=l=>{const c=l*o,d=c*t,p=c-n,m=is(l,o),y=Math.exp(-d);return ui-p/m*y},i=l=>{const d=l*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(l,2)*t,y=Math.exp(-d),w=is(Math.pow(l,2),o);return(-r(l)+ui>0?-1:1)*((p-m)*y)/w}):(r=l=>{const c=Math.exp(-l*t),d=(l-n)*t+1;return-.001+c*d},i=l=>{const c=Math.exp(-l*t),d=(n-l)*(t*t);return c*d});const a=5/t,u=kc(r,i,a);if(t=Se(t),isNaN(u))return{stiffness:te.stiffness,damping:te.damping,duration:t};{const l=Math.pow(u,2)*s;return{stiffness:l,damping:o*2*Math.sqrt(s*l),duration:t}}}const Ec=12;function kc(t,e,n){let s=n;for(let r=1;r<Ec;r++)s=s-t(s)/e(s);return s}function is(t,e){return t*Math.sqrt(1-e*e)}const xc=["duration","bounce"],Ac=["stiffness","damping","mass"];function ci(t,e){return e.some(n=>t[n]!==void 0)}function Pc(t){let e={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...t};if(!ci(t,Ac)&&ci(t,xc))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*je(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:te.mass,stiffness:r,damping:i}}else{const n=Sc(t);e={...e,...n,mass:te.mass},e.isResolvedFromDuration=!0}return e}function dn(t=te.visualDuration,e=te.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:u,damping:l,mass:c,duration:d,velocity:p,isResolvedFromDuration:m}=Pc({...n,velocity:-Re(n.velocity||0)}),y=p||0,w=l/(2*Math.sqrt(u*c)),b=o-i,T=Re(Math.sqrt(u/c)),P=Math.abs(b)<5;s||(s=P?te.restSpeed.granular:te.restSpeed.default),r||(r=P?te.restDelta.granular:te.restDelta.default);let S;if(w<1){const _=is(T,w);S=D=>{const K=Math.exp(-w*T*D);return o-K*((y+w*T*b)/_*Math.sin(_*D)+b*Math.cos(_*D))}}else if(w===1)S=_=>o-Math.exp(-T*_)*(b+(y+T*b)*_);else{const _=T*Math.sqrt(w*w-1);S=D=>{const K=Math.exp(-w*T*D),j=Math.min(_*D,300);return o-K*((y+w*T*b)*Math.sinh(j)+_*b*Math.cosh(j))/_}}const C={calculatedDuration:m&&d||null,next:_=>{const D=S(_);if(m)a.done=_>=d;else{let K=_===0?y:0;w<1&&(K=_===0?Se(y):ai(S,_,D));const j=Math.abs(K)<=s,J=Math.abs(o-D)<=r;a.done=j&&J}return a.value=a.done?o:D,a},toString:()=>{const _=Math.min(rs(C),hn),D=oi(K=>C.next(_*K).value,_,30);return _+"ms "+D},toTransition:()=>{}};return C}dn.applyToOptions=t=>{const e=_c(t,100,dn);return t.ease=e.ease,t.duration=Se(e.duration),t.type="keyframes",t};function os({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:l=.5,restSpeed:c}){const d=t[0],p={done:!1,value:d},m=j=>a!==void 0&&j<a||u!==void 0&&j>u,y=j=>a===void 0?u:u===void 0||Math.abs(a-j)<Math.abs(u-j)?a:u;let w=n*e;const b=d+w,T=o===void 0?b:o(b);T!==b&&(w=T-d);const P=j=>-w*Math.exp(-j/s),S=j=>T+P(j),C=j=>{const J=P(j),se=S(j);p.done=Math.abs(J)<=l,p.value=p.done?T:se};let _,D;const K=j=>{m(p.value)&&(_=j,D=dn({keyframes:[p.value,y(p.value)],velocity:ai(S,j,p.value),damping:r,stiffness:i,restDelta:l,restSpeed:c}))};return K(0),{calculatedDuration:null,next:j=>{let J=!1;return!D&&_===void 0&&(J=!0,C(j),K(j)),_!==void 0&&j>=_?D.next(j-_):(!J&&C(j),p)}}}function Rc(t,e,n){const s=[],r=n||Me.mix||ii,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ve:e;a=Ct(u,a)}s.push(a)}return s}function Cc(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(De(i===e.length,"Both input and output ranges must be the same length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Rc(e,s,r),u=a.length,l=c=>{if(o&&c<t[0])return e[0];let d=0;if(u>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const p=Ot(t[d],t[d+1],c);return a[d](p)};return n?c=>l(je(t[0],t[i-1],c)):l}function Oc(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Ot(0,e,s);t.push(ee(n,1,r))}}function jc(t){const e=[0];return Oc(e,t.length-1),e}function Dc(t,e){return t.map(n=>n*e)}function Mc(t,e){return t.map(()=>e||Fr).splice(0,t.length-1)}function it({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=zu(s)?s.map(Hr):Hr(s),i={done:!1,value:e[0]},o=Dc(n&&n.length===e.length?n:jc(e),t),a=Cc(o,e,{ease:Array.isArray(r)?r:Mc(e,r)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}const Lc=t=>t!==null;function as(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(Lc),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const $c={decay:os,inertia:os,tween:it,keyframes:it,spring:dn};function li(t){typeof t.type=="string"&&(t.type=$c[t.type])}class us{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ic=t=>t/100;class cs extends us{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==de.now()&&this.tick(de.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;li(e);const{type:n=it,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const u=n||it;process.env.NODE_ENV!=="production"&&u!==it&&De(a.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`),u!==it&&typeof a[0]!="number"&&(this.mixKeyframes=Ct(Ic,ii(a[0],a[1])),a=[0,100]);const l=u({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=rs(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=l}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:p,repeatDelay:m,type:y,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-l*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?T<0:T>r;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let S=this.currentTime,C=s;if(d){const j=Math.min(this.currentTime,r)/a;let J=Math.floor(j),se=j%1;!se&&j>=1&&(se=1),se===1&&J--,J=Math.min(J,d+1),!!(J%2)&&(p==="reverse"?(se=1-se,m&&(se-=m/a)):p==="mirror"&&(C=o)),S=je(0,1,se)*a}const _=P?{done:!1,value:c[0]}:C.next(S);i&&(_.value=i(_.value));let{done:D}=_;!P&&u!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return K&&y!==os&&(_.value=as(c,this.options,b,this.speed)),w&&w(_.value),K&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Re(this.calculatedDuration)}get time(){return Re(this.currentTime)}set time(e){var n;e=Se(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(de.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Re(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=bc,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(de.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Vc(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ke=t=>t*180/Math.PI,ls=t=>{const e=Ke(Math.atan2(t[1],t[0]));return hs(e)},Nc={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ls,rotateZ:ls,skewX:t=>Ke(Math.atan(t[1])),skewY:t=>Ke(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hs=t=>(t=t%360,t<0&&(t+=360),t),hi=ls,di=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fi=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Uc={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:di,scaleY:fi,scale:t=>(di(t)+fi(t))/2,rotateX:t=>hs(Ke(Math.atan2(t[6],t[5]))),rotateY:t=>hs(Ke(Math.atan2(-t[2],t[0]))),rotateZ:hi,rotate:hi,skewX:t=>Ke(Math.atan(t[4])),skewY:t=>Ke(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ds(t){return t.includes("scale")?1:0}function fs(t,e){if(!t||t==="none")return ds(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Uc,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Nc,r=a}if(!r)return ds(e);const i=s[e],o=r[1].split(",").map(Fc);return typeof i=="function"?i(o):o[i]}const Bc=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fs(n,e)};function Fc(t){return parseFloat(t.trim())}const ot=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],at=new Set(ot),pi=t=>t===st||t===M,qc=new Set(["x","y","z"]),Wc=ot.filter(t=>!qc.has(t));function Hc(t){const e=[];return Wc.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ge={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fs(e,"x"),y:(t,{transform:e})=>fs(e,"y")};Ge.translateX=Ge.x,Ge.translateY=Ge.y;const Ye=new Set;let ps=!1,ms=!1,gs=!1;function mi(){if(ms){const t=Array.from(Ye).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=Hc(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))==null||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ms=!1,ps=!1,Ye.forEach(t=>t.complete(gs)),Ye.clear()}function gi(){Ye.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ms=!0)})}function zc(){gs=!0,gi(),mi(),gs=!1}class ys{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ye.add(this),ps||(ps=!0,Z.read(gi),Z.resolveKeyframes(mi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}Vc(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ye.delete(this)}cancel(){this.state==="scheduled"&&(Ye.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kc=t=>t.startsWith("--");function Gc(t,e,n){Kc(e)?t.style.setProperty(e,n):t.style[e]=n}const Yc=Fn(()=>window.ScrollTimeline!==void 0),Jc={};function Xc(t,e){const n=Fn(t);return()=>Jc[e]??n()}const yi=Xc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),It=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,vi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:It([0,.65,.55,1]),circOut:It([.55,0,1,.45]),backIn:It([.31,.01,.66,-.59]),backOut:It([.33,1.53,.69,.99])};function wi(t,e){if(t)return typeof t=="function"?yi()?oi(t,e):"ease-out":qr(t)?It(t):Array.isArray(t)?t.map(n=>wi(n,e)||vi.easeOut):vi[t]}function Qc(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:u}={},l=void 0){const c={[e]:n};u&&(c.offset=u);const d=wi(a,r);Array.isArray(d)&&(c.easing=d);const p={delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(p.pseudoElement=l),t.animate(c,p)}function bi(t){return typeof t=="function"&&"applyToOptions"in t}function Zc({type:t,...e}){return bi(t)&&yi()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class el extends us{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,De(typeof e.type!="string",`animateMini doesn't support "type" as a string. Did you mean to import { spring } from "motion"?`);const l=Zc(e);this.animation=Qc(n,s,r,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=as(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Gc(n,s,c),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Re(Number(e))}get time(){return Re(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Se(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Yc()?(this.animation.timeline=e,ve):n(this)}}const _i={anticipate:Nr,backInOut:Vr,circInOut:Br};function tl(t){return t in _i}function nl(t){typeof t.ease=="string"&&tl(t.ease)&&(t.ease=_i[t.ease])}const Ti=10;class sl extends el{constructor(e){nl(e),li(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new cs({...o,autoplay:!1}),u=Se(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-Ti).value,a.sample(u).value,Ti),a.stop()}}const Si=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ve.test(t)||t==="0")&&!t.startsWith("url("));function rl(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function il(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Si(r,e),a=Si(i,e);return nt(o===a,`You are trying to animate ${e} from "${r}" to "${i}". ${r} is not an animatable value - to enable this animation set ${r} to a value animatable to ${i} via the \`style\` property.`),!o||!a?!1:rl(t)||(n==="spring"||bi(n))&&s}function vs(t){return Cr(t)&&"offsetHeight"in t}const ol=new Set(["opacity","clipPath","filter","transform"]),al=Fn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ul(t){var l;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!vs((l=e==null?void 0:e.owner)==null?void 0:l.current))return!1;const{onUpdate:a,transformTemplate:u}=e.owner.getProps();return al()&&n&&ol.has(n)&&(n!=="transform"||!u)&&!a&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const cl=40;class ll extends us{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:u,motionValue:l,element:c,...d}){var y;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=de.now();const p={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:u,motionValue:l,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||ys;this.keyframeResolver=new m(a,(w,b,T)=>this.onKeyframesResolved(w,b,p,!T),u,l,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:u,isHandoff:l,onUpdate:c}=s;this.resolvedAt=de.now(),il(e,i,o,a)||((Me.instantAnimations||!u)&&(c==null||c(as(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const p={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>cl?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!l&&ul(p)?new sl({...p,element:p.motionValue.owner.current}):new cs(p);m.finished.then(()=>this.notifyFinished()).catch(ve),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),zc()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dl(t){const e=hl.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}const fl=4;function Ei(t,e,n=1){De(n<=fl,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[s,r]=dl(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return Rr(o)?parseFloat(o):o}return Yn(r)?Ei(r,e,n+1):r}function ws(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ki=new Set(["width","height","top","left","right","bottom",...ot]),pl={test:t=>t==="auto",parse:t=>t},xi=t=>e=>e.test(t),Ai=[st,M,Ce,Ie,rc,sc,pl],Pi=t=>Ai.find(xi(t));function ml(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Or(t):!0}const gl=new Set(["brightness","contrast","saturate","opacity"]);function yl(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Jn)||[];if(!s)return t;const r=n.replace(s,"");let i=gl.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const vl=/\b([a-z-]*)\(.*?\)/gu,bs={...Ve,getAnimatableNone:t=>{const e=t.match(vl);return e?e.map(yl).join(" "):t}},Ri={...st,transform:Math.round},_s={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,radius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,backgroundPositionX:M,backgroundPositionY:M,...{rotate:Ie,rotateX:Ie,rotateY:Ie,rotateZ:Ie,scale:cn,scaleX:cn,scaleY:cn,scaleZ:cn,skew:Ie,skewX:Ie,skewY:Ie,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:Dt,originX:Jr,originY:Jr,originZ:M},zIndex:Ri,fillOpacity:Dt,strokeOpacity:Dt,numOctaves:Ri},wl={..._s,color:ue,backgroundColor:ue,outlineColor:ue,fill:ue,stroke:ue,borderColor:ue,borderTopColor:ue,borderRightColor:ue,borderBottomColor:ue,borderLeftColor:ue,filter:bs,WebkitFilter:bs},Ci=t=>wl[t];function Oi(t,e){let n=Ci(t);return n!==bs&&(n=Ve),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bl=new Set(["auto","none","0"]);function _l(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!bl.has(i)&&$t(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Oi(n,r)}class Tl extends ys{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let l=e[u];if(typeof l=="string"&&(l=l.trim(),Yn(l))){const c=Ei(l,n.current);c!==void 0&&(e[u]=c),u===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!ki.has(s)||e.length!==2)return;const[r,i]=e,o=Pi(r),a=Pi(i);if(o!==a)if(pi(o)&&pi(a))for(let u=0;u<e.length;u++){const l=e[u];typeof l=="string"&&(e[u]=parseFloat(l))}else Ge[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||ml(e[r]))&&s.push(r);s.length&&_l(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ge[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Ge[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,l])=>{e.getValue(u).set(l)}),this.resolveNoneKeyframes()}}function Sl(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const ji=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Di=30,El=t=>!isNaN(parseFloat(t));class kl{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,a;const i=de.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();r&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=de.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=El(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return process.env.NODE_ENV!=="production"&&Wn(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qn);const s=this.events[e].add(n);return e==="change"?()=>{s(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=de.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Di)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Di);return jr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ut(t,e){return new kl(t,e)}const{schedule:Ts}=Kr(queueMicrotask,!1),Ee={x:!1,y:!1};function Mi(){return Ee.x||Ee.y}function xl(t){return t==="x"||t==="y"?Ee[t]?null:(Ee[t]=!0,()=>{Ee[t]=!1}):Ee.x||Ee.y?null:(Ee.x=Ee.y=!0,()=>{Ee.x=Ee.y=!1})}function Li(t,e){const n=Sl(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function $i(t){return!(t.pointerType==="touch"||Mi())}function Al(t,e,n={}){const[s,r,i]=Li(t,n),o=a=>{if(!$i(a))return;const{target:u}=a,l=e(u,a);if(typeof l!="function"||!u)return;const c=d=>{$i(d)&&(l(d),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const Ii=(t,e)=>e?t===e?!0:Ii(t,e.parentElement):!1,Ss=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Pl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rl(t){return Pl.has(t.tagName)||t.tabIndex!==-1}const fn=new WeakSet;function Vi(t){return e=>{e.key==="Enter"&&t(e)}}function Es(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cl=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Vi(()=>{if(fn.has(n))return;Es(n,"down");const r=Vi(()=>{Es(n,"up")}),i=()=>Es(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ni(t){return Ss(t)&&!Mi()}function Ol(t,e,n={}){const[s,r,i]=Li(t,n),o=a=>{const u=a.currentTarget;if(!Ni(a))return;fn.add(u);const l=e(u,a),c=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),fn.has(u)&&fn.delete(u),Ni(m)&&typeof l=="function"&&l(m,{success:y})},d=m=>{c(m,u===window||u===document||n.useGlobalTarget||Ii(u,m.target))},p=m=>{c(m,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",p,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),vs(a)&&(a.addEventListener("focus",l=>Cl(l,r)),!Rl(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ui(t){return Cr(t)&&"ownerSVGElement"in t}function jl(t){return Ui(t)&&t.tagName==="svg"}const ce=t=>!!(t&&t.getVelocity),Dl=[...Ai,ue,Ve],Ml=t=>Dl.find(xi(t)),ks=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Ll extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=vs(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $l({children:t,isPresent:e,anchorX:n}){const s=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(ks);return x.useInsertionEffect(()=>{const{width:a,height:u,top:l,left:c,right:d}=i.current;if(e||!r.current||!a||!u)return;const p=n==="left"?`left: ${c}`:`right: ${d}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${l}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),N.jsx(Ll,{isPresent:e,childRef:r,sizeRef:i,children:x.cloneElement(t,{ref:r})})}const Il=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const u=Vn(Vl),l=x.useId();let c=!0,d=x.useMemo(()=>(c=!1,{id:l,initial:e,isPresent:n,custom:r,onExitComplete:p=>{u.set(p,!0);for(const m of u.values())if(!m)return;s&&s()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,s]);return i&&c&&(d={...d}),x.useMemo(()=>{u.forEach((p,m)=>u.set(m,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),o==="popLayout"&&(t=N.jsx($l,{isPresent:n,anchorX:a,children:t})),N.jsx(on.Provider,{value:d,children:t})};function Vl(){return new Map}function Bi(t=!0){const e=x.useContext(on);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=x.useId();x.useEffect(()=>{if(t)return r(i)},[t]);const o=x.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const pn=t=>t.key||"";function Fi(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const qi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[u,l]=Bi(o),c=x.useMemo(()=>Fi(t),[t]),d=o&&!u?[]:c.map(pn),p=x.useRef(!0),m=x.useRef(c),y=Vn(()=>new Map),[w,b]=x.useState(c),[T,P]=x.useState(c);Pr(()=>{p.current=!1,m.current=c;for(let _=0;_<T.length;_++){const D=pn(T[_]);d.includes(D)?y.delete(D):y.get(D)!==!0&&y.set(D,!1)}},[T,d.length,d.join("-")]);const S=[];if(c!==w){let _=[...c];for(let D=0;D<T.length;D++){const K=T[D],j=pn(K);d.includes(j)||(_.splice(D,0,K),S.push(K))}return i==="wait"&&S.length&&(_=S),P(Fi(_)),b(c),null}process.env.NODE_ENV!=="production"&&i==="wait"&&T.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);const{forceRender:C}=x.useContext(In);return N.jsx(N.Fragment,{children:T.map(_=>{const D=pn(_),K=o&&!u?!1:c===T||d.includes(D),j=()=>{if(y.has(D))y.set(D,!0);else return;let J=!0;y.forEach(se=>{se||(J=!1)}),J&&(C==null||C(),P(m.current),o&&(l==null||l()),s&&s())};return N.jsx(Il,{isPresent:K,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:K?void 0:j,anchorX:a,children:_},D)})})},Wi=x.createContext({strict:!1}),Hi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ct={};for(const t in Hi)ct[t]={isEnabled:e=>Hi[t].some(n=>!!e[n])};function Nl(t){for(const e in t)ct[e]={...ct[e],...t[e]}}const Ul=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mn(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ul.has(t)}let zi=t=>!mn(t);function Bl(t){t&&(zi=e=>e.startsWith("on")?!mn(e):t(e))}try{Bl(require("@emotion/is-prop-valid").default)}catch{}function Fl(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(zi(r)||n===!0&&mn(r)||!e&&!mn(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function ql(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>(process.env.NODE_ENV!=="production"&&Wn(!1,"motion() is deprecated. Use motion.create() instead."),t(...s));return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const gn=x.createContext({});function yn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vt(t){return typeof t=="string"||Array.isArray(t)}const xs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],As=["initial",...xs];function vn(t){return yn(t.animate)||As.some(e=>Vt(t[e]))}function Ki(t){return!!(vn(t)||t.variants)}function Wl(t,e){if(vn(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Vt(n)?n:void 0,animate:Vt(s)?s:void 0}}return t.inherit!==!1?e:{}}function Hl(t){const{initial:e,animate:n}=Wl(t,x.useContext(gn));return x.useMemo(()=>({initial:e,animate:n}),[Gi(e),Gi(n)])}function Gi(t){return Array.isArray(t)?t.join(" "):t}const zl=Symbol.for("motionComponentSymbol");function lt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Kl(t,e,n){return x.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):lt(n)&&(n.current=s))},[e])}const Ps=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yi="data-"+Ps("framerAppearId"),Ji=x.createContext({});function Gl(t,e,n,s,r){var w,b;const{visualElement:i}=x.useContext(gn),o=x.useContext(Wi),a=x.useContext(on),u=x.useContext(ks).reducedMotion,l=x.useRef(null);s=s||o.renderer,!l.current&&s&&(l.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const c=l.current,d=x.useContext(Ji);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&Yl(l.current,n,r,d);const p=x.useRef(!1);x.useInsertionEffect(()=>{c&&p.current&&c.update(n,a)});const m=n[Yi],y=x.useRef(!!m&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Pr(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),Ts.render(c.render),y.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,m)}),y.current=!1))}),c}function Yl(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Xi(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&lt(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:u,layoutRoot:l})}function Xi(t){if(t)return t.options.allowProjection!==!1?t.projection:Xi(t.parent)}function Jl({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Nl(t);function i(a,u){let l;const c={...x.useContext(ks),...a,layoutId:Xl(a)},{isStatic:d}=c,p=Hl(a),m=s(a,d);if(!d&&Nn){Ql(c,t);const y=Zl(c);l=y.MeasureLayout,p.visualElement=Gl(r,m,c,e,y.ProjectionNode)}return N.jsxs(gn.Provider,{value:p,children:[l&&p.visualElement?N.jsx(l,{visualElement:p.visualElement,...c}):null,n(r,a,Kl(m,p.visualElement,u),m,d,p.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=x.forwardRef(i);return o[zl]=r,o}function Xl({layoutId:t}){const e=x.useContext(In).id;return e&&t!==void 0?e+"-"+t:t}function Ql(t,e){const n=x.useContext(Wi).strict;if(process.env.NODE_ENV!=="production"&&e&&n){const s="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";t.ignoreStrict?nt(!1,s):De(!1,s)}}function Zl(t){const{drag:e,layout:n}=ct;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Nt={};function eh(t){for(const e in t)Nt[e]=t[e],Gn(e)&&(Nt[e].isCSSVariable=!0)}function Qi(t,{layout:e,layoutId:n}){return at.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nt[t]||t==="opacity")}const th={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nh=ot.length;function sh(t,e,n){let s="",r=!0;for(let i=0;i<nh;i++){const o=ot[i],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const l=ji(a,_s[o]);if(!u){r=!1;const c=th[o]||o;s+=`${c}(${l}) `}n&&(e[o]=l)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Rs(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const u in e){const l=e[u];if(at.has(u)){o=!0;continue}else if(Gn(u)){r[u]=l;continue}else{const c=ji(l,_s[u]);u.startsWith("origin")?(a=!0,i[u]=c):s[u]=c}}if(e.transform||(o||n?s.transform=sh(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:u="50%",originY:l="50%",originZ:c=0}=i;s.transformOrigin=`${u} ${l} ${c}`}}const Cs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zi(t,e,n){for(const s in e)!ce(e[s])&&!Qi(s,n)&&(t[s]=e[s])}function rh({transformTemplate:t},e){return x.useMemo(()=>{const n=Cs();return Rs(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ih(t,e){const n=t.style||{},s={};return Zi(s,n,t),Object.assign(s,rh(t,e)),s}function oh(t,e){const n={},s=ih(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const ah={offset:"stroke-dashoffset",array:"stroke-dasharray"},uh={offset:"strokeDashoffset",array:"strokeDasharray"};function ch(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?ah:uh;t[i.offset]=M.transform(-s);const o=M.transform(e),a=M.transform(n);t[i.array]=`${o} ${a}`}function eo(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},u,l,c){if(Rs(t,a,l),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p}=t;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),r!==void 0&&ch(d,r,i,o,!1)}const to=()=>({...Cs(),attrs:{}}),no=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lh(t,e,n,s){const r=x.useMemo(()=>{const i=to();return eo(i,e,no(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Zi(i,t.style,t),r.style={...i,...r.style}}return r}const hh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Os(t){return typeof t!="string"||t.includes("-")?!1:!!(hh.indexOf(t)>-1||/[A-Z]/u.test(t))}function dh(t=!1){return(n,s,r,{latestValues:i},o)=>{const u=(Os(n)?lh:oh)(s,i,o,n),l=Fl(s,typeof n=="string",t),c=n!==x.Fragment?{...l,...u,ref:r}:{},{children:d}=s,p=x.useMemo(()=>ce(d)?d.get():d,[d]);return x.createElement(n,{...c,children:p})}}function so(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function js(t,e,n,s){if(typeof e=="function"){const[r,i]=so(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=so(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function wn(t){return ce(t)?t.get():t}function fh({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:ph(n,s,r,t),renderState:e()}}const ro=t=>(e,n)=>{const s=x.useContext(gn),r=x.useContext(on),i=()=>fh(t,e,s,r);return n?i():Vn(i)};function ph(t,e,n,s){const r={},i=s(t,{});for(const p in i)r[p]=wn(i[p]);let{initial:o,animate:a}=t;const u=vn(t),l=Ki(t);e&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!yn(d)){const p=Array.isArray(d)?d:[d];for(let m=0;m<p.length;m++){const y=js(t,p[m]);if(y){const{transitionEnd:w,transition:b,...T}=y;for(const P in T){let S=T[P];if(Array.isArray(S)){const C=c?S.length-1:0;S=S[C]}S!==null&&(r[P]=S)}for(const P in w)r[P]=w[P]}}}return r}function Ds(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(ce(s[o])||e.style&&ce(e.style[o])||Qi(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const mh={useVisualState:ro({scrapeMotionValuesFromProps:Ds,createRenderState:Cs})};function io(t,e,n){const s=Ds(t,e,n);for(const r in t)if(ce(t[r])||ce(e[r])){const i=ot.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const gh={useVisualState:ro({scrapeMotionValuesFromProps:io,createRenderState:to})};function yh(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Os(s)?gh:mh,preloadedFeatures:t,useRender:dh(r),createVisualElement:e,Component:s};return Jl(o)}}function Ut(t,e,n){const s=t.getProps();return js(s,e,n!==void 0?n:s.custom,t)}const Ms=t=>Array.isArray(t);function vh(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ut(n))}function wh(t){return Ms(t)?t[t.length-1]||0:t}function bh(t,e){const n=Ut(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=wh(i[o]);vh(t,o,a)}}function _h(t){return!!(ce(t)&&t.add)}function Ls(t,e){const n=t.getValue("willChange");if(_h(n))return n.add(e);if(!n&&Me.WillChange){const s=new Me.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function oo(t){return t.props[Yi]}const Th=t=>t!==null;function Sh(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Th),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const Eh={type:"spring",stiffness:500,damping:25,restSpeed:10},kh=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xh={type:"keyframes",duration:.8},Ah={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ph=(t,{keyframes:e})=>e.length>2?xh:at.has(t)?t.startsWith("scale")?kh(e[1]):Eh:Ah;function Rh({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const $s=(t,e,n,s={},r,i)=>o=>{const a=ws(s,t)||{},u=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Se(u);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};Rh(a)||Object.assign(c,Ph(t,c)),c.duration&&(c.duration=Se(c.duration)),c.repeatDelay&&(c.repeatDelay=Se(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(Me.instantAnimations||Me.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const p=Sh(c.keyframes,a);if(p!==void 0){Z.update(()=>{c.onUpdate(p),c.onComplete()});return}}return a.isSync?new cs(c):new ll(c)};function Ch({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ao(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const u=[],l=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),p=a[c];if(p===void 0||l&&Ch(l,c))continue;const m={delay:n,...ws(i||{},c)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const T=oo(t);if(T){const P=window.MotionHandoffAnimation(T,c,Z);P!==null&&(m.startTime=P,w=!0)}}Ls(t,c),d.start($s(c,d,p,t.shouldReduceMotion&&ki.has(c)?{type:!1}:m,t,w));const b=d.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Z.update(()=>{o&&bh(t,o)})}),u}function Is(t,e,n={}){var u;const s=Ut(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(ao(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:p}=r;return Oh(t,e,c+l,d,p,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function Oh(t,e,n=0,s=0,r=1,i){const o=[],a=(t.variantChildren.size-1)*s,u=r===1?(l=0)=>l*s:(l=0)=>a-l*s;return Array.from(t.variantChildren).sort(jh).forEach((l,c)=>{l.notify("AnimationStart",e),o.push(Is(l,e,{...i,delay:n+u(c)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(o)}function jh(t,e){return t.sortNodePosition(e)}function Dh(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Is(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Is(t,e,n);else{const r=typeof e=="function"?Ut(t,e,n.custom):e;s=Promise.all(ao(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function uo(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Mh=As.length;function co(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?co(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Mh;n++){const s=As[n],r=t.props[s];(Vt(r)||r===!1)&&(e[s]=r)}return e}const Lh=[...xs].reverse(),$h=xs.length;function Ih(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Dh(t,n,s)))}function Vh(t){let e=Ih(t),n=lo(),s=!0;const r=u=>(l,c)=>{var p;const d=Ut(t,c,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:m,transitionEnd:y,...w}=d;l={...l,...w,...y}}return l};function i(u){e=u(t)}function o(u){const{props:l}=t,c=co(t.parent)||{},d=[],p=new Set;let m={},y=1/0;for(let b=0;b<$h;b++){const T=Lh[b],P=n[T],S=l[T]!==void 0?l[T]:c[T],C=Vt(S),_=T===u?P.isActive:null;_===!1&&(y=b);let D=S===c[T]&&S!==l[T]&&C;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),P.protectedKeys={...m},!P.isActive&&_===null||!S&&!P.prevProp||yn(S)||typeof S=="boolean")continue;const K=Nh(P.prevProp,S);let j=K||T===u&&P.isActive&&!D&&C||b>y&&C,J=!1;const se=Array.isArray(S)?S:[S];let G=se.reduce(r(T),{});_===!1&&(G={});const{prevResolvedValues:xe={}}=P,Ae={...xe,...G},pe=Q=>{j=!0,p.has(Q)&&(J=!0,p.delete(Q)),P.needsAnimating[Q]=!0;const re=t.getValue(Q);re&&(re.liveStyle=!1)};for(const Q in Ae){const re=G[Q],Pe=xe[Q];if(m.hasOwnProperty(Q))continue;let f=!1;Ms(re)&&Ms(Pe)?f=!uo(re,Pe):f=re!==Pe,f?re!=null?pe(Q):p.add(Q):re!==void 0&&p.has(Q)?pe(Q):P.protectedKeys[Q]=!0}P.prevProp=S,P.prevResolvedValues=G,P.isActive&&(m={...m,...G}),s&&t.blockInitialAnimation&&(j=!1),j&&(!(D&&K)||J)&&d.push(...se.map(Q=>({animation:Q,options:{type:T}})))}if(p.size){const b={};if(typeof l.initial!="boolean"){const T=Ut(t,Array.isArray(l.initial)?l.initial[0]:l.initial);T&&T.transition&&(b.transition=T.transition)}p.forEach(T=>{const P=t.getBaseTarget(T),S=t.getValue(T);S&&(S.liveStyle=!0),b[T]=P??null}),d.push({animation:b})}let w=!!d.length;return s&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(d):Promise.resolve()}function a(u,l){var d;if(n[u].isActive===l)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(u,l)}),n[u].isActive=l;const c=o(u);for(const p in n)n[p].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lo(),s=!0}}}function Nh(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uo(e,t):!1}function Je(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lo(){return{animate:Je(!0),whileInView:Je(),whileHover:Je(),whileTap:Je(),whileDrag:Je(),whileFocus:Je(),exit:Je()}}class Ne{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Uh extends Ne{constructor(e){super(e),e.animationState||(e.animationState=Vh(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Bh=0;class Fh extends Ne{constructor(){super(...arguments),this.id=Bh++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qh={animation:{Feature:Uh},exit:{Feature:Fh}};function Bt(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ft(t){return{point:{x:t.pageX,y:t.pageY}}}const Wh=t=>e=>Ss(e)&&t(e,Ft(e));function qt(t,e,n,s){return Bt(t,e,Wh(n),s)}function ho({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Hh({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zh(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const fo=1e-4,Kh=1-fo,Gh=1+fo,po=.01,Yh=0-po,Jh=0+po;function le(t){return t.max-t.min}function Xh(t,e,n){return Math.abs(t-e)<=n}function mo(t,e,n,s=.5){t.origin=s,t.originPoint=ee(e.min,e.max,t.origin),t.scale=le(n)/le(e),t.translate=ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Kh&&t.scale<=Gh||isNaN(t.scale))&&(t.scale=1),(t.translate>=Yh&&t.translate<=Jh||isNaN(t.translate))&&(t.translate=0)}function Wt(t,e,n,s){mo(t.x,e.x,n.x,s?s.originX:void 0),mo(t.y,e.y,n.y,s?s.originY:void 0)}function go(t,e,n){t.min=n.min+e.min,t.max=t.min+le(e)}function Qh(t,e,n){go(t.x,e.x,n.x),go(t.y,e.y,n.y)}function yo(t,e,n){t.min=e.min-n.min,t.max=t.min+le(e)}function Ht(t,e,n){yo(t.x,e.x,n.x),yo(t.y,e.y,n.y)}const vo=()=>({translate:0,scale:1,origin:0,originPoint:0}),ht=()=>({x:vo(),y:vo()}),wo=()=>({min:0,max:0}),ne=()=>({x:wo(),y:wo()});function we(t){return[t("x"),t("y")]}function Vs(t){return t===void 0||t===1}function Ns({scale:t,scaleX:e,scaleY:n}){return!Vs(t)||!Vs(e)||!Vs(n)}function Xe(t){return Ns(t)||bo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bo(t){return _o(t.x)||_o(t.y)}function _o(t){return t&&t!=="0%"}function bn(t,e,n){const s=t-n,r=e*s;return n+r}function To(t,e,n,s,r){return r!==void 0&&(t=bn(t,r,s)),bn(t,n,s)+e}function Us(t,e=0,n=1,s,r){t.min=To(t.min,e,n,s,r),t.max=To(t.max,e,n,s,r)}function So(t,{x:e,y:n}){Us(t.x,e.translate,e.scale,e.originPoint),Us(t.y,n.translate,n.scale,n.originPoint)}const Eo=.999999999999,ko=1.0000000000001;function Zh(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ft(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,So(t,o)),s&&Xe(i.latestValues)&&ft(t,i.latestValues))}e.x<ko&&e.x>Eo&&(e.x=1),e.y<ko&&e.y>Eo&&(e.y=1)}function dt(t,e){t.min=t.min+e,t.max=t.max+e}function xo(t,e,n,s,r=.5){const i=ee(t.min,t.max,r);Us(t,e,n,i,s)}function ft(t,e){xo(t.x,e.x,e.scaleX,e.scale,e.originX),xo(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ao(t,e){return ho(zh(t.getBoundingClientRect(),e))}function ed(t,e,n){const s=Ao(t,n),{scroll:r}=e;return r&&(dt(s.x,r.offset.x),dt(s.y,r.offset.y)),s}const Po=({current:t})=>t?t.ownerDocument.defaultView:null,Ro=(t,e)=>Math.abs(t-e);function td(t,e){const n=Ro(t.x,e.x),s=Ro(t.y,e.y);return Math.sqrt(n**2+s**2)}class Co{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Fs(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=td(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=d,{timestamp:w}=ae;this.history.push({...y,timestamp:w});const{onStart:b,onMove:T}=this.handlers;p||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Bs(p,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Fs(d.type==="pointercancel"?this.lastMoveEventInfo:Bs(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,b),y&&y(d,b)},!Ss(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ft(e),a=Bs(o,this.transformPagePoint),{point:u}=a,{timestamp:l}=ae;this.history=[{...u,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,Fs(a,this.history)),this.removeListeners=Ct(qt(this.contextWindow,"pointermove",this.handlePointerMove),qt(this.contextWindow,"pointerup",this.handlePointerUp),qt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$e(this.updatePoint)}}function Bs(t,e){return e?{point:e(t.point)}:t}function Oo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fs({point:t},e){return{point:t,delta:Oo(t,jo(e)),offset:Oo(t,nd(e)),velocity:sd(e,.1)}}function nd(t){return t[0]}function jo(t){return t[t.length-1]}function sd(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=jo(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Se(e)));)n--;if(!s)return{x:0,y:0};const i=Re(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rd(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ee(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ee(n,t,s.max):Math.min(t,n)),t}function Do(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function id(t,{top:e,left:n,bottom:s,right:r}){return{x:Do(t.x,n,r),y:Do(t.y,e,s)}}function Mo(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function od(t,e){return{x:Mo(t.x,e.x),y:Mo(t.y,e.y)}}function ad(t,e){let n=.5;const s=le(t),r=le(e);return r>s?n=Ot(e.min,e.max-s,t.min):s>r&&(n=Ot(t.min,t.max-r,e.min)),je(0,1,n)}function ud(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qs=.35;function cd(t=qs){return t===!1?t=0:t===!0&&(t=qs),{x:Lo(t,"left","right"),y:Lo(t,"top","bottom")}}function Lo(t,e,n){return{min:$o(t,e),max:$o(t,n)}}function $o(t,e){return typeof t=="number"?t:t[e]||0}const ld=new WeakMap;class hd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ne(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ft(c).point)},i=(c,d)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xl(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),we(b=>{let T=this.getAxisMotionValue(b).get()||0;if(Ce.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const S=P.layout.layoutBox[b];S&&(T=le(S)*(parseFloat(T)/100))}}this.originPoint[b]=T}),y&&Z.postRender(()=>y(c,d)),Ls(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=d;if(m&&this.currentDirection===null){this.currentDirection=dd(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),u=()=>we(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Co(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Po(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Z.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!_n(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=rd(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&lt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=id(s.layoutBox,e):this.constraints=!1,this.elastic=cd(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&we(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ud(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lt(e))return!1;const s=e.current;De(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=ed(s,r.root,this.visualElement.getTransformPagePoint());let o=od(r.layout.layoutBox,i);if(n){const a=n(Hh(o));this.hasMutatedConstraints=!!a,a&&(o=ho(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=we(c=>{if(!_n(c,n,this.currentDirection))return;let d=u&&u[c]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:s?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ls(this.visualElement,e),s.start($s(e,s,0,n,this.visualElement,!1))}stopAnimation(){we(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){we(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){we(n=>{const{drag:s}=this.getProps();if(!_n(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!lt(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};we(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();r[o]=ad({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),we(o=>{if(!_n(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];a.set(ee(u,l,r[o]))})}addListeners(){if(!this.visualElement.current)return;ld.set(this.visualElement,this);const e=this.visualElement.current,n=qt(e,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();lt(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Z.read(s);const o=Bt(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(we(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=u[c].translate,d.set(d.get()+u[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=qs,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function _n(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dd(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fd extends Ne{constructor(e){super(e),this.removeGroupControls=ve,this.removeListeners=ve,this.controls=new hd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const Io=t=>(e,n)=>{t&&Z.postRender(()=>t(e,n))};class pd extends Ne{constructor(){super(...arguments),this.removePointerDownListener=ve}onPointerDown(e){this.session=new Co(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Po(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Io(e),onStart:Io(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&Z.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=qt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vo(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(M.test(t))t=parseFloat(t);else return t;const n=Vo(t,e.target.x),s=Vo(t,e.target.y);return`${n}% ${s}%`}},md={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Ve.parse(t);if(r.length>5)return s;const i=Ve.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=u;const l=ee(a,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=l),typeof r[3+o]=="number"&&(r[3+o]/=l),i(r)}};class gd extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;eh(yd),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Tn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ts.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function No(t){const[e,n]=Bi(),s=x.useContext(In);return N.jsx(gd,{...t,layoutGroup:s,switchLayoutGroup:x.useContext(Ji),isPresent:e,safeToRemove:n})}const yd={borderRadius:{...zt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomLeftRadius:zt,borderBottomRightRadius:zt,boxShadow:md};function vd(t,e,n){const s=ce(t)?t:ut(t);return s.start($s("",s,e,n)),s.animation}const wd=(t,e)=>t.depth-e.depth;class bd{constructor(){this.children=[],this.isDirty=!1}add(e){Un(this.children,e),this.isDirty=!0}remove(e){Bn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wd),this.isDirty=!1,this.children.forEach(e)}}function _d(t,e){const n=de.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&($e(s),t(i-e))};return Z.setup(s,!0),()=>$e(s)}const Uo=["TopLeft","TopRight","BottomLeft","BottomRight"],Td=Uo.length,Bo=t=>typeof t=="string"?parseFloat(t):t,Fo=t=>typeof t=="number"||M.test(t);function Sd(t,e,n,s,r,i){r?(t.opacity=ee(0,n.opacity??1,Ed(s)),t.opacityExit=ee(e.opacity??1,0,kd(s))):i&&(t.opacity=ee(e.opacity??1,n.opacity??1,s));for(let o=0;o<Td;o++){const a=`border${Uo[o]}Radius`;let u=qo(e,a),l=qo(n,a);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||Fo(u)===Fo(l)?(t[a]=Math.max(ee(Bo(u),Bo(l),s),0),(Ce.test(l)||Ce.test(u))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=ee(e.rotate||0,n.rotate||0,s))}function qo(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ed=Wo(0,.5,Ur),kd=Wo(.5,.95,ve);function Wo(t,e,n){return s=>s<t?0:s>e?1:n(Ot(t,e,s))}function Ho(t,e){t.min=e.min,t.max=e.max}function be(t,e){Ho(t.x,e.x),Ho(t.y,e.y)}function zo(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ko(t,e,n,s,r){return t-=e,t=bn(t,1/n,s),r!==void 0&&(t=bn(t,1/r,s)),t}function xd(t,e=0,n=1,s=.5,r,i=t,o=t){if(Ce.test(e)&&(e=parseFloat(e),e=ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ee(i.min,i.max,s);t===i&&(a-=e),t.min=Ko(t.min,e,n,a,r),t.max=Ko(t.max,e,n,a,r)}function Go(t,e,[n,s,r],i,o){xd(t,e[n],e[s],e[r],e.scale,i,o)}const Ad=["x","scaleX","originX"],Pd=["y","scaleY","originY"];function Yo(t,e,n,s){Go(t.x,e,Ad,n?n.x:void 0,s?s.x:void 0),Go(t.y,e,Pd,n?n.y:void 0,s?s.y:void 0)}function Jo(t){return t.translate===0&&t.scale===1}function Xo(t){return Jo(t.x)&&Jo(t.y)}function Qo(t,e){return t.min===e.min&&t.max===e.max}function Rd(t,e){return Qo(t.x,e.x)&&Qo(t.y,e.y)}function Zo(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ea(t,e){return Zo(t.x,e.x)&&Zo(t.y,e.y)}function ta(t){return le(t.x)/le(t.y)}function na(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Cd{constructor(){this.members=[]}add(e){Un(this.members,e),e.scheduleRender()}remove(e){if(Bn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Od(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:c,rotateX:d,rotateY:p,skewX:m,skewY:y}=n;l&&(s=`perspective(${l}px) ${s}`),c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(s+=`scale(${a}, ${u})`),s||"none"}const Ws=["","X","Y","Z"],jd={visibility:"hidden"},Dd=1e3;let Md=0;function Hs(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function sa(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oo(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&sa(s)}function ra({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Md++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Id),this.nodes.forEach(Fd),this.nodes.forEach(qd),this.nodes.forEach(Vd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new bd)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qn),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ui(o)&&!jl(o),this.instance=o;const{layoutId:a,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let c;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=_d(d,250),Tn.hasAnimatedSinceResize&&(Tn.hasAnimatedSinceResize=!1,this.nodes.forEach(oa))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||l.getDefaultTransition()||Gd,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=l.getProps(),T=!this.targetLayout||!ea(this.targetLayout,m),P=!d&&p;if(this.options.layoutRoot||this.resumeFrom||P||d&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...ws(y,"layout"),onPlay:w,onComplete:b};(l.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(c,P)}else d||oa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$e(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Wd),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sa(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ia);return}this.isUpdating||this.nodes.forEach(Ud),this.isUpdating=!1,this.nodes.forEach(Bd),this.nodes.forEach(Ld),this.nodes.forEach($d),this.clearAllSnapshots();const a=de.now();ae.delta=je(0,16.666666666666668,a-ae.timestamp),ae.timestamp=a,ae.isProcessing=!0,Kn.update.process(ae),Kn.preRender.process(ae),Kn.render.process(ae),ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ts.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nd),this.sharedNodes.forEach(Hd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!le(this.snapshot.measuredBox.x)&&!le(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Xo(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||Xe(this.latestValues)||c)&&(r(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),Yd(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return ne();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(Jd))){const{scroll:c}=this.root;c&&(dt(a.x,c.offset.x),dt(a.y,c.offset.y))}return a}removeElementScroll(o){var u;const a=ne();if(be(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:p}=c;c!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&be(a,o),dt(a.x,d.offset.x),dt(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const u=ne();be(u,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ft(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Xe(c.latestValues)&&ft(u,c.latestValues)}return Xe(this.latestValues)&&ft(u,this.latestValues),u}removeTransform(o){const a=ne();be(a,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Xe(l.latestValues))continue;Ns(l.latestValues)&&l.updateSnapshot();const c=ne(),d=l.measurePageBox();be(c,d),Yo(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Xe(this.latestValues)&&Yo(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=ae.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),Ht(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ne(),this.targetWithTransforms=ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qh(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):be(this.target,this.layout.layoutBox),So(this.target,this.targetDelta)):be(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),Ht(this.relativeTargetOrigin,this.target,m.target),be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ns(this.parent.latestValues)||bo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ae.timestamp&&(u=!1),u)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;be(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Zh(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ne());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zo(this.prevProjectionDelta.x,this.projectionDelta.x),zo(this.prevProjectionDelta.y,this.projectionDelta.y)),Wt(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!na(this.projectionDelta.x,this.prevProjectionDelta.x)||!na(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ht(),this.projectionDelta=ht(),this.projectionDeltaWithTransform=ht()}setAnimationOrigin(o,a=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},d=ht();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ne(),m=u?u.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,b=this.getStack(),T=!b||b.members.length<=1,P=!!(w&&!T&&this.options.crossfade===!0&&!this.path.some(Kd));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const _=C/1e3;aa(d.x,o.x,_),aa(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ht(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zd(this.relativeTarget,this.relativeTargetOrigin,p,_),S&&Rd(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ne()),be(S,this.relativeTarget)),w&&(this.animationValues=c,Sd(c,l,this.latestValues,_,P,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||l.stop(),this.pendingAnimation&&($e(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{Tn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ut(0)),this.currentAnimation=vd(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dd),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=o;if(!(!a||!u||!l)){if(this!==o&&this.layout&&l&&da(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||ne();const d=le(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=le(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}be(a,u),ft(a,c),Wt(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Cd),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const l={};u.z&&Hs("z",o,l,this.animationValues);for(let c=0;c<Ws.length;c++)Hs(`rotate${Ws[c]}`,o,l,this.animationValues),Hs(`skew${Ws[c]}`,o,l,this.animationValues);o.render();for(const c in l)o.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return jd;const a={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=wn(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none",a;const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=wn(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xe(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const c=l.animationValues||l.latestValues;this.applyTransformsToTarget(),a.transform=Od(this.projectionDeltaWithTransform,this.treeScale,c),u&&(a.transform=u(c,a.transform));const{x:d,y:p}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,l.animationValues?a.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Nt){if(c[m]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:b}=Nt[m],T=a.transform==="none"?c[m]:y(c[m],l);if(w){const P=w.length;for(let S=0;S<P;S++)a[w[S]]=T}else b?this.options.visualElement.renderState.vars[m]=T:a[m]=T}return this.options.layoutId&&(a.pointerEvents=l===this?wn(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ia),this.root.sharedNodes.clear()}}}function Ld(t){t.updateLayout()}function $d(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?we(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],m=le(p);p.min=s[d].min,p.max=p.min+m}):da(i,e.layoutBox,s)&&we(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],m=le(s[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=ht();Wt(a,s,e.layoutBox);const u=ht();o?Wt(u,t.applyTransform(r,!0),e.measuredBox):Wt(u,s,e.layoutBox);const l=!Xo(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=ne();Ht(y,e.layoutBox,p.layoutBox);const w=ne();Ht(w,s,m.layoutBox),ea(y,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Id(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Vd(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nd(t){t.clearSnapshot()}function ia(t){t.clearMeasurements()}function Ud(t){t.isLayoutDirty=!1}function Bd(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oa(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fd(t){t.resolveTargetDelta()}function qd(t){t.calcProjection()}function Wd(t){t.resetSkewAndRotation()}function Hd(t){t.removeLeadSnapshot()}function aa(t,e,n){t.translate=ee(e.translate,0,n),t.scale=ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ua(t,e,n,s){t.min=ee(e.min,n.min,s),t.max=ee(e.max,n.max,s)}function zd(t,e,n,s){ua(t.x,e.x,n.x,s),ua(t.y,e.y,n.y,s)}function Kd(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gd={duration:.45,ease:[.4,0,.1,1]},ca=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),la=ca("applewebkit/")&&!ca("chrome/")?Math.round:ve;function ha(t){t.min=la(t.min),t.max=la(t.max)}function Yd(t){ha(t.x),ha(t.y)}function da(t,e,n){return t==="position"||t==="preserve-aspect"&&!Xh(ta(e),ta(n),.2)}function Jd(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Xd=ra({attachResizeListener:(t,e)=>Bt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zs={current:void 0},fa=ra({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zs.current){const t=new Xd({});t.mount(window),t.setOptions({layoutScroll:!0}),zs.current=t}return zs.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qd={pan:{Feature:pd},drag:{Feature:fd,ProjectionNode:fa,MeasureLayout:No}};function pa(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Z.postRender(()=>i(e,Ft(e)))}class Zd extends Ne{mount(){const{current:e}=this.node;e&&(this.unmount=Al(e,(n,s)=>(pa(this.node,s,"Start"),r=>pa(this.node,r,"End"))))}unmount(){}}class ef extends Ne{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ct(Bt(this.node.current,"focus",()=>this.onFocus()),Bt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ma(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Z.postRender(()=>i(e,Ft(e)))}class tf extends Ne{mount(){const{current:e}=this.node;e&&(this.unmount=Ol(e,(n,s)=>(ma(this.node,s,"Start"),(r,{success:i})=>ma(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ks=new WeakMap,Gs=new WeakMap,nf=t=>{const e=Ks.get(t.target);e&&e(t)},sf=t=>{t.forEach(nf)};function rf({root:t,...e}){const n=t||document;Gs.has(n)||Gs.set(n,{});const s=Gs.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(sf,{root:t,...e})),s[r]}function of(t,e,n){const s=rf(e);return Ks.set(t,n),s.observe(t),()=>{Ks.delete(t),s.unobserve(t)}}const af={some:0,all:1};class uf extends Ne{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:af[r]},a=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),p=l?c:d;p&&p(u)};return of(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cf(e,n))&&this.startObserver()}unmount(){}}function cf({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lf={inView:{Feature:uf},tap:{Feature:tf},focus:{Feature:ef},hover:{Feature:Zd}},hf={layout:{ProjectionNode:fa,MeasureLayout:No}},Ys={current:null},ga={current:!1};function df(){if(ga.current=!0,!!Nn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ys.current=t.matches;t.addListener(e),e()}else Ys.current=!1}const ff=new WeakMap;function pf(t,e,n){for(const s in e){const r=e[s],i=n[s];if(ce(r))t.addValue(s,r);else if(ce(i))t.addValue(s,ut(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,ut(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ya=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mf{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ys,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=de.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Z.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=vn(n),this.isVariantNode=Ki(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const m=d[p];u[p]!==void 0&&ce(m)&&m.set(u[p],!1)}}mount(e){this.current=e,ff.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ga.current||df(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ys.current,process.env.NODE_ENV!=="production"&&Wn(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$e(this.notifyUpdate),$e(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=at.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Z.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ct){const n=ct[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ne()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ya.length;s++){const r=ya[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=pf(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ut(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Rr(s)||Or(s))?s=parseFloat(s):!Ml(s)&&Ve.test(n)&&(s=Oi(e,n)),this.setBaseTarget(e,ce(s)?s.get():s)),ce(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=js(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ce(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qn),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class va extends mf{constructor(){super(...arguments),this.KeyframeResolver=Tl}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ce(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wa(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function gf(t){return window.getComputedStyle(t)}class yf extends va{constructor(){super(...arguments),this.type="html",this.renderInstance=wa}readValueFromInstance(e,n){var s;if(at.has(n))return(s=this.projection)!=null&&s.isProjecting?ds(n):Bc(e,n);{const r=gf(e),i=(Gn(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ao(e,n)}build(e,n,s){Rs(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ds(e,n,s)}}const ba=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vf(t,e,n,s){wa(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(ba.has(r)?r:Ps(r),e.attrs[r])}class wf extends va{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ne}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(at.has(n)){const s=Ci(n);return s&&s.default||0}return n=ba.has(n)?n:Ps(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return io(e,n,s)}build(e,n,s){eo(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){vf(e,n,s,r)}mount(e){this.isSVGTag=no(e.tagName),super.mount(e)}}const bf=(t,e)=>Os(t)?new wf(e):new yf(e,{allowProjection:t!==x.Fragment}),_f=yh({...qh,...lf,...Qd,...hf},bf),Sn=ql(_f),Tf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>bt).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Js extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Sf extends Js{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ef extends Js{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kf extends Js{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xs;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xs||(Xs={}));var xf=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};class Af{constructor(e,{headers:n={},customFetch:s,region:r=Xs.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Tf(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return xf(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let l;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(y=>{throw new Sf(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new Ef(c);if(!c.ok)throw new kf(c);let p=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield c.json():p==="application/octet-stream"?m=yield c.blob():p==="text/event-stream"?m=c:p==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var ie={},pt={},mt={},gt={},yt={},vt={},Pf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wt=Pf();const Rf=wt.fetch,_a=wt.fetch.bind(wt),Ta=wt.Headers,Cf=wt.Request,Of=wt.Response,bt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ta,Request:Cf,Response:Of,default:_a,fetch:Rf},Symbol.toStringTag,{value:"Module"})),jf=ku(bt);var En={},Sa;function Ea(){if(Sa)return En;Sa=1,Object.defineProperty(En,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return En.default=t,En}var ka;function xa(){if(ka)return vt;ka=1;var t=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});const e=t(jf),n=t(Ea());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,p;let m=null,y=null,w=null,b=l.status,T=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=_:y=JSON.parse(_))}const S=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");S&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,b=406,T="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const S=await l.text();try{m=JSON.parse(S),Array.isArray(m)&&l.status===404&&(y=[],m=null,b=200,T="OK")}catch{l.status===404&&S===""?(b=204,T="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,T="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:y,count:w,status:b,statusText:T}});return this.shouldThrowOnError||(u=u.catch(l=>{var c,d,p;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=l==null?void 0:l.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return vt.default=s,vt}var Aa;function Pa(){if(Aa)return yt;Aa=1;var t=yt&&yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yt,"__esModule",{value:!0});const e=t(xa());class n extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const l=u?`${u}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(l,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:l="text"}={}){var c;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${p}"; options=${d};`,l==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yt.default=n,yt}var Ra;function Qs(){if(Ra)return gt;Ra=1;var t=gt&&gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gt,"__esModule",{value:!0});const e=t(Pa());class n extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${u}fts${l}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return gt.default=n,gt}var Ca;function Oa(){if(Ca)return mt;Ca=1;var t=mt&&mt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mt,"__esModule",{value:!0});const e=t(Qs());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let u=!1;const l=(r??"*").split("").map(c=>/\s/.test(c)&&!u?"":(c==='"'&&(u=!u),c)).join("");return this.url.searchParams.set("select",l),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(r)){const l=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){const l="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),u||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const d=r.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mt.default=n,mt}var Kt={},Gt={},ja;function Df(){return ja||(ja=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.version=void 0,Gt.version="0.0.0-automated"),Gt}var Da;function Mf(){if(Da)return Kt;Da=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.DEFAULT_HEADERS=void 0;const t=Df();return Kt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Kt}var Ma;function Lf(){if(Ma)return pt;Ma=1;var t=pt&&pt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pt,"__esModule",{value:!0});const e=t(Oa()),n=t(Qs()),s=Mf();class r{constructor(o,{headers:a={},schema:u,fetch:l}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:u=!1,get:l=!1,count:c}={}){let d;const p=new URL(`${this.url}/rpc/${o}`);let m;u||l?(d=u?"HEAD":"GET",Object.entries(a).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{p.searchParams.append(w,b)})):(d="POST",m=a);const y=Object.assign({},this.headers);return c&&(y.Prefer=`count=${c}`),new n.default({method:d,url:p,headers:y,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return pt.default=r,pt}var La;function $f(){if(La)return ie;La=1;var t=ie&&ie.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.PostgrestError=ie.PostgrestBuilder=ie.PostgrestTransformBuilder=ie.PostgrestFilterBuilder=ie.PostgrestQueryBuilder=ie.PostgrestClient=void 0;const e=t(Lf());ie.PostgrestClient=e.default;const n=t(Oa());ie.PostgrestQueryBuilder=n.default;const s=t(Qs());ie.PostgrestFilterBuilder=s.default;const r=t(Pa());ie.PostgrestTransformBuilder=r.default;const i=t(xa());ie.PostgrestBuilder=i.default;const o=t(Ea());return ie.PostgrestError=o.default,ie.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},ie}var If=$f();const Vf=vr(If),{PostgrestClient:Nf,PostgrestQueryBuilder:Vm,PostgrestFilterBuilder:Nm,PostgrestTransformBuilder:Um,PostgrestBuilder:Bm,PostgrestError:Fm}=Vf,Uf={"X-Client-Info":"realtime-js/2.11.2"},Bf="1.0.0",$a=1e4,Ff=1e3;var _t;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_t||(_t={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ke||(ke={}));var Zs;(function(t){t.websocket="websocket"})(Zs||(Zs={}));var Qe;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qe||(Qe={}));class qf{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const u=s.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:l}}}class Ia{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Va=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wf(o,t,e,r),i),{})},Wf=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Na(i,o):er(o)},Na=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Gf(e,n)}switch(t){case X.bool:return Hf(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return zf(e);case X.json:case X.jsonb:return Kf(e);case X.timestamp:return Yf(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return er(e);default:return er(e)}},er=t=>t,Hf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Kf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Gf=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Na(e,a))}return t},Yf=t=>typeof t=="string"?t.replace(" ","T"):t,Ua=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class tr{constructor(e,n,s={},r=$a){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ba;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ba||(Ba={}));class Yt{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yt.syncState(this.state,r,i,o),this.pendingDiffs.forEach(u=>{this.state=Yt.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Yt.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},u={};return this.map(i,(l,c)=>{o[l]||(u[l]=c)}),this.map(o,(l,c)=>{const d=i[l];if(d){const p=c.map(b=>b.presence_ref),m=d.map(b=>b.presence_ref),y=c.filter(b=>m.indexOf(b.presence_ref)<0),w=d.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(a[l]=y),w.length>0&&(u[l]=w)}else a[l]=c}),this.syncDiff(i,{joins:a,leaves:u},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,u)=>{var l;const c=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(u),c.length>0){const d=e[a].map(m=>m.presence_ref),p=c.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...p)}s(a,c,u)}),this.map(o,(a,u)=>{let l=e[a];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=l,r(a,l,u),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fa||(Fa={}));var qa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qa||(qa={}));var Le;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Le||(Le={}));class nr{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tr(this,ke.join,this.params,this.timeout),this.rejoinTimer=new Ia(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ke.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Yt(this),this.broadcastEndpointURL=Ua(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Le.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Le.CLOSED));const u={},l={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Le.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,y=[];for(let w=0;w<m;w++){const b=p[w],{filter:{event:T,schema:P,table:S,filter:C}}=b,_=c&&c[w];if(_&&_.event===T&&_.schema===P&&_.table===S&&_.filter===C)y.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),e==null||e(Le.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Le.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Le.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Le.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new tr(this,ke.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new tr(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=ke;if(s&&[a,u,l,c].indexOf(o)>=0&&s!==this._joinRef())return;let p=this._onMessage(o,n,s);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var y,w,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(p,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,b,T,P,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(P=(T=m==null?void 0:m.filter)===null||T===void 0?void 0:T.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return C==="*"||C===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:b,commit_timestamp:T,type:P,errors:S}=y;p=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:T,eventType:P,new:{},old:{},errors:S}),this._getPayloadRecords(y))}m.callback(p,s)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&nr.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ke.close,{},e)}_onError(e){this._on(ke.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Va(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Va(e.columns,e.old_record)),n}}const Jf=()=>{},Xf=typeof WebSocket<"u",Qf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zf{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Uf,this.params={},this.timeout=$a,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jf,this.conn=null,this.sendBuffer=[],this.serializer=new qf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Promise.resolve().then(()=>bt).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Zs.websocket}`,this.httpEndpoint=Ua(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ia(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Xf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ep(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Promise.resolve().then(()=>xm).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bf}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case _t.connecting:return Qe.Connecting;case _t.open:return Qe.Open;case _t.closing:return Qe.Closing;default:return Qe.Closed}}isConnected(){return this.connectionState()===Qe.Open}channel(e,n={config:{}}){const s=new nr(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(ke.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ff,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ke.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Qf],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class ep{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_t.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class sr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tp extends sr{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rr extends sr{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var np=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};const Wa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>bt).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},sp=()=>np(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>bt)).Response:Response}),ir=t=>{if(Array.isArray(t))return t.map(n=>ir(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=ir(s)}),e};var Ze=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};const or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rp=(t,e,n)=>Ze(void 0,void 0,void 0,function*(){const s=yield sp();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new tp(or(r),t.status||500))}).catch(r=>{e(new rr(or(r),r))}):e(new rr(or(t),t))}),ip=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Jt(t,e,n,s,r,i){return Ze(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ip(e,s,r,i)).then(u=>{if(!u.ok)throw u;return s!=null&&s.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>rp(u,a,s))})})}function kn(t,e,n,s){return Ze(this,void 0,void 0,function*(){return Jt(t,"GET",e,n,s)})}function Ue(t,e,n,s,r){return Ze(this,void 0,void 0,function*(){return Jt(t,"POST",e,s,r,n)})}function op(t,e,n,s,r){return Ze(this,void 0,void 0,function*(){return Jt(t,"PUT",e,s,r,n)})}function ap(t,e,n,s){return Ze(this,void 0,void 0,function*(){return Jt(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Ha(t,e,n,s,r){return Ze(this,void 0,void 0,function*(){return Jt(t,"DELETE",e,s,r,n)})}var fe=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};const up={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},za={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cp{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Wa(r)}uploadOrUpdate(e,n,s,r){return fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},za),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(n),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(e,n,s){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const l=Object.assign({upsert:za.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.append("cacheControl",l.cacheControl)):(u=s,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(u){if(oe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Ue(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new sr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}update(e,n,s){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return fe(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}copy(e,n,s){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ue(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Ue(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return fe(this,void 0,void 0,function*(){try{const r=yield Ue(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}download(e,n){return fe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield kn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}})}info(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield kn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ir(s),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}exists(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ap(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(oe(s)&&s instanceof rr){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&r.push(u);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${l}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}list(e,n,s){return fe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},up),n),{prefix:e||""});return{data:yield Ue(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lp={"X-Client-Info":"storage-js/2.7.1"};var Tt=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};class hp{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},lp),n),this.fetch=Wa(s)}listBuckets(){return Tt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}}class dp extends hp{constructor(e,n={},s){super(e,n,s)}from(e){return new cp(this.url,this.headers,e,this.fetch)}}const fp="2.49.8";let Xt="";typeof Deno<"u"?Xt="deno":typeof document<"u"?Xt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xt="react-native":Xt="node";const pp={headers:{"X-Client-Info":`supabase-js-${Xt}/${fp}`}},mp={schema:"public"},gp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yp={};var vp=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};const wp=t=>{let e;return t?e=t:typeof fetch>"u"?e=_a:e=fetch,(...n)=>e(...n)},bp=()=>typeof Headers>"u"?Ta:Headers,_p=(t,e,n)=>{const s=wp(n),r=bp();return(i,o)=>vp(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let l=new r(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),s(i,Object.assign(Object.assign({},o),{headers:l}))})};var Tp=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};function Sp(t){return t.endsWith("/")?t:t+"/"}function Ep(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:u,auth:l,realtime:c,global:d}=e,p={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Tp(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Ka="2.69.1",St=30*1e3,ar=3,ur=ar*St,kp="http://localhost:9999",xp="supabase.auth.token",Ap={"X-Client-Info":`gotrue-js/${Ka}`},cr="X-Supabase-Api-Version",Ga={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rp=6e5;class lr extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cp extends lr{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Op(t){return V(t)&&t.name==="AuthApiError"}class Ya extends lr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Be extends lr{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class Fe extends Be{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jp(t){return V(t)&&t.name==="AuthSessionMissingError"}class hr extends Be{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xn extends Be{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class An extends Be{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dp(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ja extends Be{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dr extends Be{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fr(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Xa extends Be{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Qt extends Be{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Za=` 	
\r=`.split(""),Mp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Za.length;e+=1)t[Za[e].charCodeAt(0)]=-2;for(let e=0;e<Qa.length;e+=1)t[Qa[e].charCodeAt(0)]=e;return t})();function eu(t,e,n){const s=Mp[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Ip(o,s,n)};for(let o=0;o<t.length;o+=1)eu(t.charCodeAt(o),r,i);return e.join("")}function Lp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $p(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Lp(s,e)}}function Ip(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vp(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)eu(t.charCodeAt(r),n,s);return new Uint8Array(e)}function Np(t){const e=[];return $p(t,n=>e.push(n)),new Uint8Array(e)}function Up(t){return Math.round(Date.now()/1e3)+t}function Bp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Oe=()=>typeof window<"u"&&typeof document<"u",et={tested:!1,writable:!1},Zt=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(et.tested)return et.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),et.tested=!0,et.writable=!0}catch{et.tested=!0,et.writable=!1}return et.writable};function Fp(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const nu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>bt).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},qp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",su=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rn=async(t,e)=>{await t.removeItem(e)};class Cn{constructor(){this.promise=new Cn.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cn.promiseConstructor=Promise;function pr(t){const e=t.split(".");if(e.length!==3)throw new Qt("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Pp.test(e[s]))throw new Qt("JWT not in base64url format");return{header:JSON.parse(tu(e[0])),payload:JSON.parse(tu(e[1])),signature:Vp(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hp(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function zp(t){return("0"+t.toString(16)).substr(-2)}function Kp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,zp).join("")}async function Gp(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Yp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Gp(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Et(t,e,n=!1){const s=Kp();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await su(t,`${e}-code-verifier`,r);const i=await Yp(s);return[i,s===i?"plain":"s256"]}const Jp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xp(t){const e=t.headers.get(cr);if(!e||!e.match(Jp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var em=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const tt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tm=[502,503,504];async function ru(t){var e;if(!qp(t))throw new dr(tt(t),0);if(tm.includes(t.status))throw new dr(tt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ya(tt(i),i)}let s;const r=Xp(t);if(r&&r.getTime()>=Ga["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Xa(tt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Fe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xa(tt(n),t.status,n.weak_password.reasons);throw new Cp(tt(n),t.status||500,s)}const nm=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function q(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[cr]||(i[cr]=Ga["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await sm(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(u):{data:Object.assign({},u),error:null}}async function sm(t,e,n,s,r,i){const o=nm(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new dr(tt(u),0)}if(a.ok||await ru(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(u){await ru(u)}}function qe(t){var e;let n=null;am(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Up(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function iu(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function We(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rm(t){return{data:t,error:null}}function im(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=em(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function om(t){return t}function am(t){return t.access_token&&t.refresh_token&&t.expires_in}var um=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class cm{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=nu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:We})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=um(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:im,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:We})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,u;try{const l={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:om});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);l[`${b}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(V(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:We})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:We})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:We})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const lm={getItem:t=>Zt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zt()&&globalThis.localStorage.removeItem(t)}};function ou(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function hm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kt={debug:!!(globalThis&&Zt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class au extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dm extends au{}async function fm(t,e,n){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hm();const pm={url:kp,storageKey:xp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ap,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uu(t,e,n){return await n()}class en{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=en.nextInstanceID,en.nextInstanceID+=1,this.instanceID>0&&Oe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},pm),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new cm({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=nu(r.fetch),this.lock=r.lock||uu,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Oe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fm:this.lock=uu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Zt()?this.storage=lm:(this.memoryStorage={},this.storage=ou(this.memoryStorage)):(this.memoryStorage={},this.storage=ou(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ka}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Fp(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Oe()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dp(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new Ya("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:qe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Et(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:qe})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qe})}else throw new xn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:iu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:iu})}else throw new xn("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new hr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:qe});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qe}),{data:u,error:l}=a;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new hr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:u}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Et(this.storage,this.storageKey));const{error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:u}=e,{data:l,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new xn("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,l=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Et(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:rm})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Fe;const{error:r}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xn("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ur:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,c)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:We}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fe}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:We})})}catch(n){if(V(n))return jp(n)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Fe;const o=r.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await Et(this.storage,this.storageKey));const{data:l,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:We});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fe;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=pr(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Fe;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Oe())throw new An("No browser detected.");if(e.error||e.error_description||e.error_code)throw new An(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ja("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new An("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ja("No code detected.");const{data:P,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:l}=e;if(!i||!a||!o||!l)throw new An("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;u&&(p=parseInt(u));const m=p-c;m*1e3<=St&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=p-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const T={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:l,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(s){if(V(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Op(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Bp(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Et(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,u,l,c;const{data:d,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Oe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(V(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Hp(async r=>(r>0&&await Wp(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(r,i)=>{const o=200*Math.pow(2,r);return i&&fr(i)&&Date.now()+o-s<St})}catch(s){if(this._debug(n,"error",s),V(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Oe()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Pn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ur;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${ur}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),fr(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Cn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Fe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),V(i)){const o={session:null,error:i};return fr(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await su(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),St);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/St);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${St}ms, refresh threshold is ${ar} ticks`),r<=ar&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof au)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Et(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:l}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((r=u==null?void 0:u.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pr(r.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+Rp>Date.now()))return s;const{data:r,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Qt("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===e),!s)throw new Qt("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};s=m.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:u}}=pr(s);if(Qp(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:r,signature:o},error:null}}const l=Zp(r.alg),c=await this.fetchJwk(r.kid,n),d=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,Np(`${a}.${u}`)))throw new Qt("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}en.nextInstanceID=0;const mm=en;class gm extends mm{constructor(e){super(e)}}var ym=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(s.next(c))}catch(d){o(d)}}function u(c){try{l(s.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):r(c.value).then(a,u)}l((s=s.apply(t,e||[])).next())})};class vm{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Sp(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const l=`sb-${u.hostname.split(".")[0]}-auth-token`,c={db:mp,realtime:yp,auth:Object.assign(Object.assign({},gp),{storageKey:l}),global:pp},d=Ep(s??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_p(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Nf(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Af(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dp(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ym(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:u},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gm({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wm=(t,e,n)=>new vm(t,e,n),cu="https://cgwolarwogdatxujqhuh.supabase.co",lu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnd29sYXJ3b2dkYXR4dWpxaHVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3MDM3ODYsImV4cCI6MjA2NDI3OTc4Nn0.d-fFBmQ5g8Qmpac6RVJBSUxVBCtFB5B7MmwhSlTdW5I";console.log(cu),console.log(lu);const bm=wm(cu,lu);async function _m(t){try{const{data:e,error:n}=await bm.from("messages").insert([{title:t.title,message:t.message}]).select();return n?{error:n}:{data:e}}catch(e){return console.error("Error submitting feedback:",e),{error:{message:"Failed to submit feedback",code:"UNKNOWN_ERROR"}}}}const Tm=()=>{const[t,e]=x.useState(!1),[n,s]=x.useState(!1),[r,i]=x.useState(!1),[o,a]=x.useState(null),[u,l]=x.useState({title:"",message:""}),c=p=>{const{name:m,value:y}=p.target;l(w=>({...w,[m]:y})),a(null)},d=async p=>{p.preventDefault(),i(!0),a(null);try{const{data:m,error:y}=await _m(u);if(y)throw new Error(y.message||"Failed to submit feedback");s(!0),setTimeout(()=>{l({title:"",message:""}),e(!1),s(!1)},2e3)}catch(m){console.error("Submission error:",m),a(m instanceof Error?m.message:"An unknown error occurred")}finally{i(!1)}};return N.jsx("div",{className:"feedback-container",children:N.jsxs("div",{className:"feedback-button-wrapper",children:[N.jsx("button",{onClick:()=>e(!t),className:"feedback-button","aria-label":"Give feedback",children:N.jsx(Iu,{className:"feedback-icon",size:28})}),N.jsx(qi,{children:t&&N.jsx(Sn.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:"feedback-popover",children:N.jsxs("div",{className:"feedback-popover-content",children:[N.jsx("button",{onClick:()=>e(!1),className:"feedback-close-button","aria-label":"Close feedback form",children:N.jsx(Nu,{size:18})}),N.jsx(qi,{mode:"wait",children:n?N.jsxs(Sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"feedback-success-state",children:[N.jsx(Sn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},className:"feedback-success-icon-wrapper",children:N.jsx($u,{className:"feedback-success-icon",size:32})}),N.jsx("h3",{className:"feedback-success-title",children:"Thank you!"}),N.jsx("p",{className:"feedback-success-message",children:"Your feedback has been submitted successfully."})]},"success"):N.jsxs(Sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[N.jsx("h2",{className:"feedback-form-title",children:"Share Your Feedback"}),N.jsxs("form",{onSubmit:d,className:"feedback-form",children:[N.jsxs("div",{className:"feedback-input-group",children:[N.jsx("label",{htmlFor:"title",className:"feedback-label",children:"Title"}),N.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:c,className:"feedback-input",required:!0})]}),N.jsxs("div",{className:"feedback-input-group",children:[N.jsx("label",{htmlFor:"message",className:"feedback-label",children:"Message"}),N.jsx("textarea",{id:"message",name:"message",value:u.message,onChange:c,rows:3,className:"feedback-textarea",required:!0})]}),o&&N.jsx("div",{className:"feedback-error-message",children:o}),N.jsx("button",{type:"submit",disabled:r,className:"feedback-submit-button",children:r?"Submitting...":N.jsxs(N.Fragment,{children:[N.jsx(Vu,{size:16,className:"feedback-submit-icon"}),"Submit Feedback"]})})]})]},"form")})]})})})]})})},Sm=()=>N.jsx("main",{children:N.jsx(Tm,{})});var mr,hu;function Em(){return hu||(hu=1,mr=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),mr}var km=Em();const xm=Object.freeze(Object.defineProperty({__proto__:null,default:vr(km)},Symbol.toStringTag,{value:"Module"}));return Sm}();
